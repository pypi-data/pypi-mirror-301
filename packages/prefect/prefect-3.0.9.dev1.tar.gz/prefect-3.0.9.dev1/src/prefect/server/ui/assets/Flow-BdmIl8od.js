import{d as y,bU as W,i as t,aV as V,aW as B,e as b,o as a,y as C,q as T,l as n,m as e,bV as D,a$ as N,g as U,W as $,ao as P,t as j,by as q,bW as E,c as i,j as o,k as F,u as H,bX as K,a as p,bY as M,bZ as O,bH as Q,a6 as X,bo as Y}from"./index-DGGjalVM.js";import{s as Z,b as z}from"./index-0yGGjo7r.js";import{u as A}from"./usePageTitle-JaUVXf-x.js";const G={class:"flow-stats"},J={class:"flow-stats__cards"},L=y({__name:"FlowStats",props:{flowId:{}},setup(w){const f=w,r={range:{type:"span",seconds:-z},tags:[]},{flowId:u}=W(f),c=t(()=>({flowId:u.value,range:r.range}));V(B,{interval:Z(30)});const l=t(()=>b.map("FlowStatsFilter",c.value,"FlowRunsFilter")),d=t(()=>b.map("FlowStatsFilter",c.value,"TaskRunsFilter"));return(m,_)=>(a(),C("div",G,[T("div",J,[n(e(D),{filter:l.value},null,8,["filter"]),n(e(N),{filter:d.value},null,8,["filter"])])]))}}),oe=y({__name:"Flow",setup(w){const f=U(),r=$("flowId"),u=t(()=>[r.value]),c=H(),l=P("tab","Runs"),d=["Runs","Deployments","Details"],m={interval:3e5},_=j(f.flows.getFlow,[r.value],m),s=t(()=>_.response),{filter:k}=q({flows:{id:u}}),{filter:R}=E({flows:{id:u}});function g(){c.push(Y.flows())}const x=t(()=>s.value?`Flow: ${s.value.name}`:"Flow");return A(x),(ee,v)=>{const I=F("p-tabs"),S=F("p-layout-default");return a(),i(S,{class:"flow"},{header:o(()=>[s.value?(a(),i(e(K),{key:0,flow:s.value,onDelete:g},null,8,["flow"])):p("",!0)]),default:o(()=>[s.value?(a(),i(L,{key:0,"flow-id":s.value.id},null,8,["flow-id"])):p("",!0),n(I,{selected:e(l),"onUpdate:selected":v[0]||(v[0]=h=>X(l)?l.value=h:null),tabs:d},{details:o(()=>[s.value?(a(),i(e(M),{key:0,flow:s.value},null,8,["flow"])):p("",!0)]),deployments:o(()=>[n(e(O),{filter:e(R),prefix:"deployments"},null,8,["filter"])]),runs:o(()=>[n(e(Q),{filter:e(k),selectable:"",prefix:"runs"},null,8,["filter"])]),_:1},8,["selected"])]),_:1})}}});export{oe as default};
//# sourceMappingURL=Flow-BdmIl8od.js.map
