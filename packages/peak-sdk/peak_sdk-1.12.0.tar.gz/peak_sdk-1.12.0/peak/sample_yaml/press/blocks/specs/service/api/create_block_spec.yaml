body:
  version: 1
  kind: service
  metadata:
    name: api-service-block
    title: API Service Block
    summary: API Service Block
    description: Creating a new service block spec of type api.
    descriptionContentType: text/markdown
    imageUrl: https://my-block-pics.com/image-0.jpg
    tags:
      - name: CLI
  release:
    version: 1.0.0
    notes: This is the original release
  config:
    serviceType: api
    image:
      dockerfile: Dockerfile
      context: "."
      version: 0.0.1
    parameters:
      env:
        param1: value1
        param2: value2
      secrets:
        - secret1
        - secret2
    resources:
      instanceTypeId: "@param:instance_type_id"
    healthCheckURL: "@param:health_check_url"
    entrypoint: |
      python
      app.py
    minInstances: 1
parameters:
  build:
    - defaultValue: /health
      description: Enter the health check URL
      name: health_check_url
      required: true
      title: Health Check URL
      type: string
      hideValue: false
    - defaultValue: 20
      description: Select an instance type
      name: instance_type_id
      options:
        - title: Pico (0.125CPU, 0.125GB RAM)
          value: 20
        - title: Nano (0.25CPU, 0.5GB RAM)
          value: 21
        - title: Micro (0.5CPU, 1GB RAM)
          value: 22
      required: true
      title: Instance Type ID
      type: number
  run:
    - defaultValue: AVG
      description: Select an aggregation function (e.g., AVG, SUM, COUNT)
      name: agg_type
      required: false
      title: Agg Type
      type: string
      hideValue: true
    - defaultValue: false
      description: Enable email notifications
      name: email_notifications
      required: false
      title: Email Notifications
      type: boolean
    - defaultValue: 10
      description: Select the number of iterations
      name: num_iterations
      options:
        - title: Low
          value: 10
        - title: Medium
          value: 50
        - title: High
          value: 100
      required: false
      title: Number of Iterations
      type: number
    - defaultValue:
        - input.csv
        - output.csv
      description: Specify input and output file names
      name: file_names
      required: true
      title: File Names
      type: string_array
artifact:
  path: "."
  ignore_files:
    - ".gitignore"
    - ".dockerignore"
featured: true
scope: shared
tenants:
  - tenant1
  - tenant2
