"use strict";(self.webpackChunkjupyterlab_toscmode=self.webpackChunkjupyterlab_toscmode||[]).push([[509],{509:(e,o,t)=>{t.r(o),t.d(o,{default:()=>g});var n=t(200),l=t(480),c=t(614);const d="jupyterlab_toscmode:toggle-showcase-mode";let r=!1,s=null,a=!1;function i(e){a=e.get("greyOut").composite,a?(console.log("Grey out enabled"),document.body.classList.add("grey-out")):(console.log("Grey out disabled"),document.body.classList.remove("grey-out"))}function u(e,o){let t=null==o?void 0:o.node.previousElementSibling,n=!!(null==o?void 0:o.node.querySelector("h1, h2, h3, h4, h5, h6"));const l=new Set(document.querySelectorAll(".in-current-chapter")),c=new Set;for(console.log("Current cell: ",null==o?void 0:o.node),console.log("Previous sibling: ",t),console.log("Header found: ",n),(null==o?void 0:o.node)&&(console.log("Adding current node",null==o?void 0:o.node," to current chapter"),null==o||o.node.classList.add("in-current-chapter"),c.add(null==o?void 0:o.node));!n&&t;)console.log("Adding previous sibling",t," to current chapter"),t.classList.add("in-current-chapter"),c.add(t),t.querySelector("h1, h2, h3, h4, h5, h6")&&(console.log("Found header in ",t),n=!0),t=t.previousElementSibling,console.log("Sibling node: ",t);t&&new Set([...l].filter((e=>!c.has(e)))).forEach((e=>{console.log("Removing ",e," from current chapter"),e.classList.remove("in-current-chapter")}))}const g={id:"toscmode",description:"Adds a Showcase Mode to Jupyter Lab",autoStart:!0,requires:[n.ICommandPalette,l.INotebookTracker,c.ISettingRegistry],activate:function(e,o,t,n){console.log("JupyterLab extension toscmode is activated!"),Promise.all([e.restored,n.load("jupyterlab_toscmode:plugin")]).then((([,n])=>{console.log("Reading settings"),i(n),n.changed.connect(i),e.commands.addCommand(d,{label:"Toggle Showcase Mode",execute:()=>{r=!r,document.body.classList.toggle("showcase-mode"),r?(s=t.activeCellChanged,s.connect(u)):s&&(s.disconnect(u),s=null)}}),o.addItem({command:d,category:"View"})})).catch((e=>{console.error(`Error: ${e}`)}))}}}}]);