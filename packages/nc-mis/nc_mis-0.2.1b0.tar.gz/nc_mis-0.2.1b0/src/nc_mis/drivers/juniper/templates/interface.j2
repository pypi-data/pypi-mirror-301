
    interfaces {
        replace: {{interface.config.name}} {
{%- if interface.config.enabled is defined and not interface.config.enabled %}
            disable
{%- endif -%}
            {#- description "xxx"; #}
            unit 0 {
                {#- description "xxx"; #}
{%- if interface.config.type in ["IF_MGMT", "IF_ETHERNET"] %}
    {%- if interface['routed-vlan'].ipv4 is defined %}
        {%- for k, address in interface['routed-vlan'].ipv4.addresses.address.items() %}
                family inet {
                    address {{address.ip}};
                }
        {%- endfor %}
    {%- endif %}
{%- endif %}
{%- if interface.config.type == "IF_ETHERNET" %}
                family ethernet-switching {
                    interface-mode trunk
        {%- if interface['switched-vlan'].config['native-vlan'] is defined and interface['switched-vlan'].config['native-vlan'] %}
                    native-vlan-id {{ interface['switched-vlan'].config['native-vlan'] }}
        {%- endif %}
        {%- if interface['switched-vlan'].config['trunk-vlans'] is defined and interface['switched-vlan'].config['trunk-vlans'] == ['all'] %}
                    vlan {
                        members all;
                    }
        {%- elif interface['switched-vlan'].config['trunk-vlans'] is defined and interface['switched-vlan'].config['trunk-vlans'] %}
                    vlan {
            {%- for i in interface['switched-vlan'].config['trunk-vlans'] %}
                        members {{i}}
            {%- endfor %}
                    }
        {%- endif %}
                }
{%- endif %}
            }
{%- if interface.ethernet is defined and interface.ethernet.config['aggregate-id'] is defined and interface.ethernet.config['aggregate-id'] %}
            ether-options {
                802.3ad {{ interface.ethernet.config['aggregate-id'] }};
            }
{%- endif %}
        }
    }
