import{_ as Ut,g as Yt,V as Ot}from"./DrawerNavigation.vue_vue_type_style_index_0_scoped_7bacef92_lang-CIjcbajg.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{M as he,_ as Xt,f as Pe,g as ce,a as jt,b as rt,d as Gt,s as Kt,i as dt,c as Jt,e as Zt,h as ea,j as Ke}from"./VCheckbox-CHc9r84S.js";import{e as de,_ as Te}from"./eventbus-BJAYFFrB.js";import{d as z,r as B,o as $e,a as Ae,b as g,M as te,P as Je,c as m,e as V,w as f,f as d,u as t,$ as fe,g as S,h as P,i as ae,t as Q,j as C,F as R,s as e,A as ta,p as K,k as J,l as aa,m as la,n as Se,q as ct,v as F,x as T,y as Me,z as mt,B as _e,C as vt,D as M,E as yt,G as We,H as ft,I as ia,J as Ce,K as se,L as oa,N as pt,O as sa,Q as ht,R as na,S as ua,T as ra,U as ke,V as E,W as A,X as Ze,Y as et,Z as xe,_ as H,a0 as U,a1 as da,a2 as ca,a3 as _t,a4 as ma,a5 as Ve,a6 as Be,a7 as va,a8 as tt,a9 as ya,aa as fa,ab as pa,ac as at,ad as ha}from"./index-BXI2qIml.js";import{T as _a,V as qe}from"./Toolbar-BIkV8o49.js";import{V as lt,a as Ie,u as Ee}from"./VList-Oj0sJwE3.js";import{V as Qe,m as ye,a as ba,b as ge,u as ga,c as Z,d as bt,e as gt,f as Pt,g as kt,h as Pa,i as wt,j as Le,k as Ct,l as Vt,n as It,o as Qt,p as ka,q as wa,r as Ca,s as be,t as Va,v as Ia,M as Qa,w as Y,x as $a,y as Sa}from"./VListItem-BqDOQjsf.js";import{V as Fe}from"./VCard-zMIp_65-.js";import{V as $t}from"./VDialog-CavDLFW2.js";import{V as Ta,a as Ba}from"./VInfiniteScroll-BrsQ2CdR.js";import{u as xa,m as St,a as Tt,b as qa,c as za}from"./layout-DdVnEUE9.js";import{f as Aa,a as Ma,s as Wa,m as Ea,u as La,b as Fa,V as Bt,c as xt}from"./VMenu-B1bAKgcw.js";import{m as Ha,V as it,a as Ra}from"./VCheckboxBtn-D9hm3Yab.js";import{V as Da}from"./VSlider-BuEL8ffM.js";import{B as ve}from"./Button-B3YUuwUS.js";import{L as Na}from"./ListItem-BKs0yHtA.js";import{P as He,V as Ua,a as ot}from"./PanelviewPlayerCard-veBJcM6x.js";import{V as Ya}from"./VToolbar-7C-gZgX7.js";import{V as we,a as pe}from"./VCardText-Cn4KBJZu.js";import{V as Oa}from"./VVirtualScroll-BfYXPzfs.js";import{V as Xa,a as ja,b as Ga}from"./VExpansionPanels-BX-E4lk5.js";const Ka=G(Ut,[["__scopeId","data-v-7bacef92"]]),Ja={class:"media-thumb"},Za={style:{"margin-left":"-10px","padding-right":"5px"}},el=z({__name:"AddToPlaylistDialog",setup(a){const o=B(!1),s=B([]),l=B([]),u=B(),i=B([]);$e(()=>{de.on("playlistdialog",async k=>{o.value=!0,i.value=k.items,u.value=k.parentItem,await r()}),Ae(()=>{de.off("playlistdialog")})});const r=async function(){s.value=[],l.value=[];const k=await g.getLibraryPlaylists(),b=i.value.length?i.value[0]:void 0;for(const c of k){if(!c.provider_mappings.filter(w=>w.available).length||!c.is_editable||u.value&&u.value.media_type===te.PLAYLIST&&c.item_id===u.value.item_id)continue;const p=g.providers[c.provider_mappings[0].provider_instance];p&&(p.domain=="builtin"||p.is_streaming_provider||b!=null&&b.provider_mappings.filter(w=>w.provider_instance==p.instance_id).length)&&s.value.push(c)}for(const c of Object.values(g.providers))c.supported_features.includes(Je.PLAYLIST_CREATE)&&c.supported_features.includes(Je.PLAYLIST_TRACKS_EDIT)&&(c.domain=="builtin"||c.is_streaming_provider||b!=null&&b.provider_mappings.filter(p=>p.provider_instance==c.instance_id).length)&&l.value.push(c.instance_id)},n=async function(k){if(i.value[0].media_type===te.TRACK)g.addPlaylistTracks(k.item_id,i.value.map(c=>c.uri));else if(i.value[0].media_type===te.ALBUM){var b=await g.getAlbumTracks(i.value[0].item_id,i.value[0].provider);g.addPlaylistTracks(k.item_id,b.map(c=>c.uri))}y(),e.activeAlert={type:ta.INFO,message:fe("background_task_added"),persistent:!1}},v=async function(k){const b=prompt(fe("new_playlist_name"));if(!b)return;const c=await g.createPlaylist(b,k);n(c)},y=function(){o.value=!1};return(k,b)=>(m(),V($t,{modelValue:o.value,"onUpdate:modelValue":[b[0]||(b[0]=c=>o.value=c),b[1]||(b[1]=c=>{t(e).dialogActive=c})],fullscreen:"",transition:"dialog-bottom-transition"},{default:f(()=>[d(Fe,null,{default:f(()=>[d(_a,{icon:"mdi-playlist-plus",title:t(fe)("add_playlist"),"menu-items":[{label:"close",icon:"mdi-close",action:y}]},null,8,["title","menu-items"]),d(lt),b[4]||(b[4]=S("br",null,null,-1)),d(Ie,null,{default:f(()=>[(m(!0),P(R,null,ae(s.value,c=>(m(),P("div",{key:c.item_id},[d(Qe,{onClick:p=>n(c)},{prepend:f(()=>[S("div",Ja,[d(he,{item:c,size:50},null,8,["item"])])]),title:f(()=>[S("div",null,Q(c.name),1)]),subtitle:f(()=>[S("div",null,Q(c.owner),1)]),append:f(()=>[c.provider_mappings?(m(),V(Te,{key:0,domain:c.provider_mappings[0].provider_domain,size:20},null,8,["domain"])):C("",!0)]),_:2},1032,["onClick"])]))),128)),b[2]||(b[2]=S("div",{style:{height:"30px"}},null,-1)),d(lt),b[3]||(b[3]=S("div",{style:{height:"30px"}},null,-1)),(m(!0),P(R,null,ae(l.value,c=>(m(),P("div",{key:c},[d(Qe,{onClick:p=>v(c)},{prepend:f(()=>[S("div",Za,[d(Te,{domain:t(g).providers[c].domain,size:50},null,8,["domain"])])]),title:f(()=>[S("div",null,Q(t(fe)("new_playlist")),1)]),subtitle:f(()=>[S("div",null,Q(t(fe)("create_playlist_on",[t(g).providers[c].name])),1)]),append:f(()=>[d(Te,{domain:t(g).providers[c].domain,size:20},null,8,["domain"])]),_:2},1032,["onClick"])]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"]))}}),tl=G(el,[["__scopeId","data-v-9e34403f"]]),al=G(Xt,[["__scopeId","data-v-109c72d0"]]),ll=K({scrollable:Boolean,...ye(),...ba(),...ge({tag:"main"})},"VMain"),il=J()({name:"VMain",props:ll(),setup(a,o){let{slots:s}=o;const{dimensionStyles:l}=ga(a),{mainStyles:u}=xa(),{ssrBootStyles:i}=Ee();return Z(()=>d(a.tag,{class:["v-main",{"v-main--scrollable":a.scrollable},a.class],style:[u.value,i.value,l.value,a.style]},{default:()=>{var r,n;return[a.scrollable?d("div",{class:"v-main__scroller"},[(r=s.default)==null?void 0:r.call(s)]):(n=s.default)==null?void 0:n.call(s)]}})),{}}}),ol=z({__name:"View",setup(a){return(o,s)=>{const l=aa("router-view");return m(),V(il,{id:"cont",class:"overflow-y-auto",style:{height:"0px"}},{default:f(()=>{var u,i,r;return[t(e).navigationMenuStyle=="vertical"?(m(),V(Ka,{key:0})):C("",!0),d(l,null,{default:f(({Component:n})=>[(m(),V(la(n)))]),_:1}),d(tl),d(al),d(Ta,{"model-value":t(e).activeAlert!==void 0,color:((u=t(e).activeAlert)==null?void 0:u.type)||"grey",text:(i=t(e).activeAlert)==null?void 0:i.message,"close-on-content-click":"",position:"sticky",timeout:(r=t(e).activeAlert)!=null&&r.persistent?-1:5e3,"onUpdate:modelValue":s[0]||(s[0]=()=>t(e).activeAlert=void 0)},null,8,["model-value","color","text","timeout"])]}),_:1})}}}),sl=K({baseColor:String,bgColor:String,color:String,grow:Boolean,mode:{type:String,validator:a=>!a||["horizontal","shift"].includes(a)},height:{type:[Number,String],default:56},active:{type:Boolean,default:!0},...bt(),...ye(),...gt(),...Pt(),...kt(),...St({name:"bottom-navigation"}),...ge({tag:"header"}),...Pa({selectedClass:"v-btn--selected"}),...Se()},"VBottomNavigation"),nl=J()({name:"VBottomNavigation",props:sl(),emits:{"update:active":a=>!0,"update:modelValue":a=>!0},setup(a,o){let{slots:s}=o;const{themeClasses:l}=ct(),{borderClasses:u}=wt(a),{backgroundColorClasses:i,backgroundColorStyles:r}=Le(F(a,"bgColor")),{densityClasses:n}=Ct(a),{elevationClasses:v}=Vt(a),{roundedClasses:y}=It(a),{ssrBootStyles:k}=Ee(),b=T(()=>Number(a.height)-(a.density==="comfortable"?8:0)-(a.density==="compact"?16:0)),c=Me(a,"active",a.active),{layoutItemStyles:p}=Tt({id:a.name,order:T(()=>parseInt(a.order,10)),position:T(()=>"bottom"),layoutSize:T(()=>c.value?b.value:0),elementSize:b,active:c,absolute:F(a,"absolute")});return Qt(a,ka),mt({VBtn:{baseColor:F(a,"baseColor"),color:F(a,"color"),density:F(a,"density"),stacked:T(()=>a.mode!=="horizontal"),variant:"text"}},{scoped:!0}),Z(()=>d(a.tag,{class:["v-bottom-navigation",{"v-bottom-navigation--active":c.value,"v-bottom-navigation--grow":a.grow,"v-bottom-navigation--shift":a.mode==="shift"},l.value,i.value,u.value,n.value,v.value,y.value,a.class],style:[r.value,p.value,{height:_e(b.value)},k.value,a.style]},{default:()=>[s.default&&d("div",{class:"v-bottom-navigation__content"},[s.default()])]})),{}}}),Re=Symbol.for("vuetify:v-tabs"),ul=K({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...vt(wa({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),me=J()({name:"VTab",props:ul(),setup(a,o){let{slots:s,attrs:l}=o;const{textColorClasses:u,textColorStyles:i}=Ca(a,"sliderColor"),r=B(),n=B(),v=T(()=>a.direction==="horizontal"),y=T(()=>{var b,c;return((c=(b=r.value)==null?void 0:b.group)==null?void 0:c.isSelected.value)??!1});function k(b){var p,w;let{value:c}=b;if(c){const x=(w=(p=r.value)==null?void 0:p.$el.parentElement)==null?void 0:w.querySelector(".v-tab--selected .v-tab__slider"),N=n.value;if(!x||!N)return;const ie=getComputedStyle(x).color,O=x.getBoundingClientRect(),X=N.getBoundingClientRect(),q=v.value?"x":"y",_=v.value?"X":"Y",h=v.value?"right":"bottom",$=v.value?"width":"height",W=O[q],D=X[q],L=W>D?O[h]-X[h]:O[q]-X[q],j=Math.sign(L)>0?v.value?"right":"bottom":Math.sign(L)<0?v.value?"left":"top":"center",ne=(Math.abs(L)+(Math.sign(L)<0?O[$]:X[$]))/Math.max(O[$],X[$])||0,ue=O[$]/X[$]||0,oe=1.5;Ma(N,{backgroundColor:[ie,"currentcolor"],transform:[`translate${_}(${L}px) scale${_}(${ue})`,`translate${_}(${L/oe}px) scale${_}(${(ne-1)/oe+1})`,"none"],transformOrigin:Array(3).fill(j)},{duration:225,easing:Wa})}}return Z(()=>{const b=be.filterProps(a);return d(be,M({symbol:Re,ref:r,class:["v-tab",a.class],style:a.style,tabindex:y.value?0:-1,role:"tab","aria-selected":String(y.value),active:!1},b,l,{block:a.fixed,maxWidth:a.fixed?300:void 0,"onGroup:selected":k}),{...s,default:()=>{var c;return d(R,null,[((c=s.default)==null?void 0:c.call(s))??a.text,!a.hideSlider&&d("div",{ref:n,class:["v-tab__slider",u.value],style:i.value},null)])}})}),Aa({},r)}}),rl=a=>{const{touchstartX:o,touchendX:s,touchstartY:l,touchendY:u}=a,i=.5,r=16;a.offsetX=s-o,a.offsetY=u-l,Math.abs(a.offsetY)<i*Math.abs(a.offsetX)&&(a.left&&s<o-r&&a.left(a),a.right&&s>o+r&&a.right(a)),Math.abs(a.offsetX)<i*Math.abs(a.offsetY)&&(a.up&&u<l-r&&a.up(a),a.down&&u>l+r&&a.down(a))};function dl(a,o){var l;const s=a.changedTouches[0];o.touchstartX=s.clientX,o.touchstartY=s.clientY,(l=o.start)==null||l.call(o,{originalEvent:a,...o})}function cl(a,o){var l;const s=a.changedTouches[0];o.touchendX=s.clientX,o.touchendY=s.clientY,(l=o.end)==null||l.call(o,{originalEvent:a,...o}),rl(o)}function ml(a,o){var l;const s=a.changedTouches[0];o.touchmoveX=s.clientX,o.touchmoveY=s.clientY,(l=o.move)==null||l.call(o,{originalEvent:a,...o})}function vl(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const o={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:a.left,right:a.right,up:a.up,down:a.down,start:a.start,move:a.move,end:a.end};return{touchstart:s=>dl(s,o),touchend:s=>cl(s,o),touchmove:s=>ml(s,o)}}function yl(a,o){var n;const s=o.value,l=s!=null&&s.parent?a.parentElement:a,u=(s==null?void 0:s.options)??{passive:!0},i=(n=o.instance)==null?void 0:n.$.uid;if(!l||!i)return;const r=vl(o.value);l._touchHandlers=l._touchHandlers??Object.create(null),l._touchHandlers[i]=r,yt(r).forEach(v=>{l.addEventListener(v,r[v],u)})}function fl(a,o){var i,r;const s=(i=o.value)!=null&&i.parent?a.parentElement:a,l=(r=o.instance)==null?void 0:r.$.uid;if(!(s!=null&&s._touchHandlers)||!l)return;const u=s._touchHandlers[l];yt(u).forEach(n=>{s.removeEventListener(n,u[n])}),delete s._touchHandlers[l]}const qt={mounted:yl,unmounted:fl},zt=Symbol.for("vuetify:v-window"),At=Symbol.for("vuetify:v-window-group"),Mt=K({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:a=>typeof a=="boolean"||a==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...ye(),...ge(),...Se()},"VWindow"),st=J()({name:"VWindow",directives:{Touch:qt},props:Mt(),emits:{"update:modelValue":a=>!0},setup(a,o){let{slots:s}=o;const{themeClasses:l}=We(a),{isRtl:u}=ft(),{t:i}=ia(),r=Qt(a,At),n=B(),v=T(()=>u.value?!a.reverse:a.reverse),y=Ce(!1),k=T(()=>{const q=a.direction==="vertical"?"y":"x",h=(v.value?!y.value:y.value)?"-reverse":"";return`v-window-${q}${h}-transition`}),b=Ce(0),c=B(void 0),p=T(()=>r.items.value.findIndex(q=>r.selected.value.includes(q.id)));se(p,(q,_)=>{const h=r.items.value.length,$=h-1;h<=2?y.value=q<_:q===$&&_===0?y.value=!0:q===0&&_===$?y.value=!1:y.value=q<_}),oa(zt,{transition:k,isReversed:y,transitionCount:b,transitionHeight:c,rootRef:n});const w=T(()=>a.continuous||p.value!==0),x=T(()=>a.continuous||p.value!==r.items.value.length-1);function N(){w.value&&r.prev()}function ie(){x.value&&r.next()}const O=T(()=>{const q=[],_={icon:u.value?a.nextIcon:a.prevIcon,class:`v-window__${v.value?"right":"left"}`,onClick:r.prev,"aria-label":i("$vuetify.carousel.prev")};q.push(w.value?s.prev?s.prev({props:_}):d(be,_,null):d("div",null,null));const h={icon:u.value?a.prevIcon:a.nextIcon,class:`v-window__${v.value?"left":"right"}`,onClick:r.next,"aria-label":i("$vuetify.carousel.next")};return q.push(x.value?s.next?s.next({props:h}):d(be,h,null):d("div",null,null)),q}),X=T(()=>a.touch===!1?a.touch:{...{left:()=>{v.value?N():ie()},right:()=>{v.value?ie():N()},start:_=>{let{originalEvent:h}=_;h.stopPropagation()}},...a.touch===!0?{}:a.touch});return Z(()=>pt(d(a.tag,{ref:n,class:["v-window",{"v-window--show-arrows-on-hover":a.showArrows==="hover"},l.value,a.class],style:a.style},{default:()=>{var q,_;return[d("div",{class:"v-window__container",style:{height:c.value}},[(q=s.default)==null?void 0:q.call(s,{group:r}),a.showArrows!==!1&&d("div",{class:"v-window__controls"},[O.value])]),(_=s.additional)==null?void 0:_.call(s,{group:r})]}}),[[sa("touch"),X.value]])),{group:r}}}),pl=K({...vt(Mt(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),hl=J()({name:"VTabsWindow",props:pl(),emits:{"update:modelValue":a=>!0},setup(a,o){let{slots:s}=o;const l=ht(Re,null),u=Me(a,"modelValue"),i=T({get(){var r;return u.value!=null||!l?u.value:(r=l.items.value.find(n=>l.selected.value.includes(n.id)))==null?void 0:r.value},set(r){u.value=r}});return Z(()=>{const r=st.filterProps(a);return d(st,M({_as:"VTabsWindow"},r,{modelValue:i.value,"onUpdate:modelValue":n=>i.value=n,class:["v-tabs-window",a.class],style:a.style,mandatory:!1,touch:!1}),s)}),{}}}),Wt=K({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...ye(),...Va(),...Ea()},"VWindowItem"),nt=J()({name:"VWindowItem",directives:{Touch:qt},props:Wt(),emits:{"group:selected":a=>!0},setup(a,o){let{slots:s}=o;const l=ht(zt),u=Ia(a,At),{isBooted:i}=Ee();if(!l||!u)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const r=Ce(!1),n=T(()=>i.value&&(l.isReversed.value?a.reverseTransition!==!1:a.transition!==!1));function v(){!r.value||!l||(r.value=!1,l.transitionCount.value>0&&(l.transitionCount.value-=1,l.transitionCount.value===0&&(l.transitionHeight.value=void 0)))}function y(){var w;r.value||!l||(r.value=!0,l.transitionCount.value===0&&(l.transitionHeight.value=_e((w=l.rootRef.value)==null?void 0:w.clientHeight)),l.transitionCount.value+=1)}function k(){v()}function b(w){r.value&&ua(()=>{!n.value||!r.value||!l||(l.transitionHeight.value=_e(w.clientHeight))})}const c=T(()=>{const w=l.isReversed.value?a.reverseTransition:a.transition;return n.value?{name:typeof w!="string"?l.transition.value:w,onBeforeEnter:y,onAfterEnter:v,onEnterCancelled:k,onBeforeLeave:y,onAfterLeave:v,onLeaveCancelled:k,onEnter:b}:!1}),{hasContent:p}=La(a,u.isSelected);return Z(()=>d(Qa,{transition:c.value,disabled:!i.value},{default:()=>{var w;return[pt(d("div",{class:["v-window-item",u.selectedClass.value,a.class],style:a.style},[p.value&&((w=s.default)==null?void 0:w.call(s))]),[[na,u.isSelected.value]])]}})),{groupItem:u}}}),_l=K({...Wt()},"VTabsWindowItem"),bl=J()({name:"VTabsWindowItem",props:_l(),setup(a,o){let{slots:s}=o;return Z(()=>{const l=nt.filterProps(a);return d(nt,M({_as:"VTabsWindowItem"},l,{class:["v-tabs-window-item",a.class],style:a.style}),s)}),{}}});function gl(a){return a?a.map(o=>ra(o)?o:{text:o,value:o}):[]}const Pl=K({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...Ha({mandatory:"force",selectedClass:"v-tab-item--selected"}),...gt(),...ge()},"VTabs"),ze=J()({name:"VTabs",props:Pl(),emits:{"update:modelValue":a=>!0},setup(a,o){let{attrs:s,slots:l}=o;const u=Me(a,"modelValue"),i=T(()=>gl(a.items)),{densityClasses:r}=Ct(a),{backgroundColorClasses:n,backgroundColorStyles:v}=Le(F(a,"bgColor")),{scopeId:y}=Fa();return mt({VTab:{color:F(a,"color"),direction:F(a,"direction"),stacked:F(a,"stacked"),fixed:F(a,"fixedTabs"),sliderColor:F(a,"sliderColor"),hideSlider:F(a,"hideSlider")}}),Z(()=>{const k=it.filterProps(a),b=!!(l.window||a.items.length>0);return d(R,null,[d(it,M(k,{modelValue:u.value,"onUpdate:modelValue":c=>u.value=c,class:["v-tabs",`v-tabs--${a.direction}`,`v-tabs--align-tabs-${a.alignTabs}`,{"v-tabs--fixed-tabs":a.fixedTabs,"v-tabs--grow":a.grow,"v-tabs--stacked":a.stacked},r.value,n.value,a.class],style:[{"--v-tabs-height":_e(a.height)},v.value,a.style],role:"tablist",symbol:Re},y,s),{default:()=>{var c;return[((c=l.default)==null?void 0:c.call(l))??i.value.map(p=>{var w;return((w=l.tab)==null?void 0:w.call(l,{item:p}))??d(me,M(p,{key:p.text,value:p.value}),{default:l[`tab.${p.value}`]?()=>{var x;return(x=l[`tab.${p.value}`])==null?void 0:x.call(l,{item:p})}:void 0})})]}}),b&&d(hl,M({modelValue:u.value,"onUpdate:modelValue":c=>u.value=c,key:"tabs-window"},y),{default:()=>{var c;return[i.value.map(p=>{var w;return((w=l.item)==null?void 0:w.call(l,{item:p}))??d(bl,{value:p.value},{default:()=>{var x;return(x=l[`item.${p.value}`])==null?void 0:x.call(l,{item:p})}})}),(c=l.window)==null?void 0:c.call(l)]}})])}),{}}}),kl={class:"menuButton"},wl={class:"menuButton"},Cl={class:"menuButton"},Vl=z({__name:"BottomNavigation",props:{height:{}},setup(a){const o=Yt(),s=T(()=>{for(const l of o)if(ke.currentRoute.value.path.startsWith(l.path))return!E("tablet")&&l.isLibraryNode?"library":l.label;return""});return(l,u)=>(m(),V(nl,{height:l.height,grow:"",elevation:"15",style:{"border-top":"1px solid #20202035"}},{default:f(()=>[t(E)("tablet")?(m(),V(ze,{key:0,stacked:"",grow:"","show-arrows":!1,"model-value":s.value,color:"accent","center-active":""},{default:f(()=>[(m(!0),P(R,null,ae(t(o),i=>(m(),V(me,{key:i.label,to:i.path,value:i.label},{default:f(()=>[d(Y,{size:"xx-large"},{default:f(()=>[A(Q(i.icon),1)]),_:2},1024),S("span",kl,Q(l.$t(i.label)),1)]),_:2},1032,["to","value"]))),128))]),_:1},8,["model-value"])):(m(),V(ze,{key:1,stacked:"",grow:"","show-arrows":!1,"model-value":s.value,color:"accent"},{default:f(()=>[(m(!0),P(R,null,ae(t(o).filter(i=>!i.isLibraryNode),i=>(m(),V(me,{key:i.label,to:i.path,value:i.label},{default:f(()=>[d(Y,{size:"xx-large"},{default:f(()=>[A(Q(i.icon),1)]),_:2},1024),S("span",wl,Q(l.$t(i.label)),1)]),_:2},1032,["to","value"]))),128)),d(Bt,null,{activator:f(({props:i})=>[d(me,M({key:"library"},i,{value:"library"}),{default:f(()=>[d(Y,{size:"xx-large"},{default:f(()=>u[0]||(u[0]=[A("mdi-bookshelf")])),_:1}),S("span",Cl,Q(l.$t("library")),1)]),_:2},1040)]),default:f(()=>[d(Ie,null,{default:f(()=>[(m(!0),P(R,null,ae(t(o).filter(i=>i.isLibraryNode),i=>(m(),V(Qe,{key:i.label,title:l.$t(i.label),"prepend-icon":i.icon,to:i.path},null,8,["title","prepend-icon","to"]))),128))]),_:1})]),_:1})]),_:1},8,["model-value"]))]),_:1},8,["height"]))}}),Il={style:{width:"auto"}},Ql={key:0,style:{width:"100%"}},$l={key:0,class:"time-text-row"},Sl={class:"text-caption time-text-right"},Tl=z({__name:"PlayerTimeline",props:{showLabels:{type:Boolean,default:!1}},setup(a){const o=B(!1),s=B(!0),l=B(!1),u=B(0),i=B(0),r=T(()=>e.curQueueItem?o.value?`-${Pe(e.curQueueItem.duration-v.value)}`:`${Pe(v.value)}`:"0:00"),n=T(()=>{var p;if(!e.curQueueItem||!e.curQueueItem.duration||((p=e.curQueueItem.media_item)==null?void 0:p.media_type)==te.RADIO)return"";const c=e.curQueueItem.duration;return Pe(c)}),v=T(()=>l.value?(i.value=u.value,u.value):e.activePlayerQueue?e.activePlayerQueue.elapsed_time:0);se(v,c=>{l.value||(u.value=c)});const y=function(){l.value=!0},k=()=>{l.value=!1,b(i.value)},b=c=>{var p;l.value||g.queueCommandSeek(((p=e.activePlayerQueue)==null?void 0:p.queue_id)||"",Math.round(c))};return(c,p)=>{var w;return m(),P("div",Il,[t(e).activePlayerQueue?(m(),P("div",Ql,[d(Da,{modelValue:u.value,"onUpdate:modelValue":p[0]||(p[0]=x=>u.value=x),disabled:!t(e).curQueueItem||!t(e).curQueueItem.media_item||((w=t(e).curQueueItem.media_item)==null?void 0:w.media_type)!=t(te).TRACK,style:{width:"100%"},min:0,max:t(e).curQueueItem&&t(e).curQueueItem.duration,"hide-details":"","track-size":2,"thumb-size":s.value?0:10,onTouchstart:p[1]||(p[1]=x=>s.value=!1),onTouchend:p[2]||(p[2]=x=>s.value=!0),onMouseenter:p[3]||(p[3]=x=>s.value=!1),onMouseleave:p[4]||(p[4]=x=>s.value=!0),onStart:y,onEnd:k},null,8,["modelValue","disabled","max","thumb-size"]),c.showLabels?(m(),P("div",$l,[S("div",{class:"text-caption time-text-left",onClick:p[5]||(p[5]=x=>o.value?o.value=!1:o.value=!0)},Q(r.value),1),S("div",Sl,Q(n.value),1)])):C("",!0)])):C("",!0)])}}}),Et=G(Tl,[["__scopeId","data-v-329a9131"]]),Bl=z({__name:"ResponsiveIcon",props:{width:{default:void 0},height:{default:void 0},staticWidth:{default:void 0},staticHeight:{default:void 0},maxWidth:{default:void 0},maxHeight:{default:void 0},minWidth:{default:"24px"},minHeight:{default:"24px"},icon:{default:void 0},type:{default:"icon"},color:{default:void 0},disabled:{type:Boolean},badge:{type:Boolean,default:void 0}},emits:["clicked"],setup(a,{emit:o}){const s=()=>{if(l.value){const i=l.value.offsetWidth,r=l.value.offsetHeight,n=Math.min(i,r);u.value.$el.style.fontSize=`${n}px`}},l=B(),u=B();return $e(()=>{s(),window.addEventListener("resize",s)}),Ae(()=>{window.removeEventListener("resize",s)}),(i,r)=>(m(),P("div",{ref_key:"responsiveIconHolder",ref:l,class:xe([i.type=="btn"&&!i.disabled?"responsive-icon-holder-btn":"responsive-icon-holder"]),style:H({width:i.staticWidth?i.staticWidth:i.width,height:i.staticWidth?i.staticWidth:i.height,maxHeight:i.staticHeight?i.staticHeight:i.maxHeight,maxWidth:i.staticWidth?i.staticWidth:i.maxWidth,minHeight:i.staticHeight?i.staticHeight:i.minHeight,minWidth:i.staticWidth?i.staticWidth:i.minWidth}),onClick:r[0]||(r[0]=n=>i.disabled?n.preventDefault():i.$emit("clicked"))},[d(qe,{"model-value":i.badge==!0,color:"error",dot:""},{default:f(()=>[i.type==="icon"?(m(),V(Y,{key:0,ref_key:"responsiveIcon",ref:u,class:"responsive-icon",color:i.color?i.color:"",icon:i.icon?i.icon:"mdi-check",width:i.staticWidth?i.staticWidth:null,height:i.staticHeight?i.staticHeight:null,disabled:i.disabled},Ze({_:2},[ae(i.$slots,(n,v)=>({name:v,fn:f(()=>[et(i.$slots,v,{},void 0,!0)])}))]),1032,["color","icon","width","height","disabled"])):i.type==="btn"?(m(),V(Y,{key:1,ref_key:"responsiveIcon",ref:u,class:"responsive-icon",style:{cursor:"pointer"},color:i.color?i.color:"",icon:i.icon?i.icon:"mdi-check",width:i.staticWidth?i.staticWidth:null,height:i.staticHeight?i.staticHeight:null,disabled:i.disabled},Ze({_:2},[ae(i.$slots,(n,v)=>({name:v,fn:f(()=>[et(i.$slots,v,{},void 0,!0)])}))]),1032,["color","icon","width","height","disabled"])):C("",!0)]),_:3},8,["model-value"])],6))}}),le=G(Bl,[["__scopeId","data-v-115a9c4e"]]),Lt=z({__name:"RepeatBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){return(o,s)=>{var l,u,i,r,n,v,y,k;return o.isVisible?(m(),V(le,M({key:0},o.icon,{disabled:!t(e).activePlayerQueue||!t(e).activePlayerQueue.active||t(e).activePlayerQueue.items==0,color:t(ce)((l=o.icon)==null?void 0:l.color,[[((u=t(e).activePlayerQueue)==null?void 0:u.repeat_mode)==t(U).OFF,null],[((i=t(e).activePlayerQueue)==null?void 0:i.repeat_mode)==t(U).ALL,"primary"],[((r=t(e).activePlayerQueue)==null?void 0:r.repeat_mode)==t(U).ONE,"primary"]]),icon:t(ce)((n=o.icon)==null?void 0:n.icon,[[((v=t(e).activePlayerQueue)==null?void 0:v.repeat_mode)==t(U).OFF,"mdi-repeat-off"],[((y=t(e).activePlayerQueue)==null?void 0:y.repeat_mode)==t(U).ALL,"mdi-repeat"],[((k=t(e).activePlayerQueue)==null?void 0:k.repeat_mode)==t(U).ONE,"mdi-repeat-once"],[!0,"mdi-repeat-off"]]),type:"btn",onClicked:s[0]||(s[0]=b=>{var c,p,w,x;return t(g).queueCommandRepeat(((c=t(e).activePlayerQueue)==null?void 0:c.queue_id)||"",t(ce)(null,[[((p=t(e).activePlayerQueue)==null?void 0:p.repeat_mode)==t(U).OFF,t(U).ONE],[((w=t(e).activePlayerQueue)==null?void 0:w.repeat_mode)==t(U).ALL,t(U).OFF],[((x=t(e).activePlayerQueue)==null?void 0:x.repeat_mode)==t(U).ONE,t(U).ALL]]))})}),null,16,["disabled","color","icon"])):C("",!0)}}}),Ft=z({__name:"ShuffleBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){return(o,s)=>{var l,u,i,r,n,v,y;return o.isVisible?(m(),V(le,M({key:0},o.icon,{disabled:!t(e).activePlayerQueue||!((l=t(e).activePlayerQueue)!=null&&l.active)||((u=t(e).activePlayerQueue)==null?void 0:u.items)==0,color:t(ce)((i=o.icon)==null?void 0:i.color,[[(r=t(e).activePlayerQueue)==null?void 0:r.shuffle_enabled,"primary",""]]),icon:t(ce)((n=o.icon)==null?void 0:n.icon,[[(v=t(e).activePlayerQueue)==null?void 0:v.shuffle_enabled,"mdi-shuffle"],[((y=t(e).activePlayerQueue)==null?void 0:y.shuffle_enabled)==!1,"mdi-shuffle-disabled"],[!0,"mdi-shuffle"]]),type:"btn",onClicked:s[0]||(s[0]=k=>{var b,c;return t(g).queueCommandShuffle(((b=t(e).activePlayerQueue)==null?void 0:b.queue_id)||"",!((c=t(e).activePlayerQueue)!=null&&c.shuffle_enabled))})}),null,16,["disabled","color","icon"])):C("",!0)}}}),Ht=z({__name:"PlayBtn",props:{isVisible:{type:Boolean,default:!0},withCircle:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){return(o,s)=>{var l,u,i,r;return o.isVisible&&((l=t(e).activePlayerQueue)!=null&&l.active)?(m(),V(le,M({key:0},o.icon,{disabled:t(e).activePlayerQueue.items==0,icon:((u=t(e).activePlayerQueue)==null?void 0:u.state)=="playing"?o.withCircle?"mdi-pause-circle":"mdi-pause":o.withCircle?"mdi-play-circle":"mdi-play",type:"btn",onClicked:s[0]||(s[0]=n=>t(g).queueCommandPlayPause(t(e).activePlayerQueue.queue_id))}),null,16,["disabled","icon"])):o.isVisible&&((i=t(e).activePlayer)==null?void 0:i.state)==t(da).PLAYING?(m(),V(le,M({key:1},o.icon,{icon:"mdi-stop",type:"btn",onClick:s[1]||(s[1]=n=>t(g).queueCommandStop(t(e).activePlayer.player_id))}),null,16)):o.isVisible?(m(),V(le,M({key:2},o.icon,{disabled:!t(e).activePlayerId||!((r=t(e).activePlayer)!=null&&r.active_source),icon:o.withCircle?"mdi-play-circle":"mdi-play",type:"btn",onClicked:s[2]||(s[2]=n=>t(g).playerCommandPlay(t(e).activePlayerId))}),null,16,["disabled","icon"])):C("",!0)}}}),Rt=z({__name:"PreviousBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){return(o,s)=>{var l,u;return o.isVisible?(m(),V(le,M({key:0},o.icon,{disabled:!t(e).activePlayerQueue||!((l=t(e).activePlayerQueue)!=null&&l.active)||((u=t(e).activePlayerQueue)==null?void 0:u.items)<=1,icon:"mdi-skip-previous-outline",type:"btn",onClicked:s[0]||(s[0]=i=>t(g).queueCommandPrevious(t(e).activePlayerQueue.queue_id))}),null,16,["disabled"])):C("",!0)}}}),Dt=z({__name:"NextBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){return(o,s)=>{var l,u;return o.isVisible?(m(),V(le,M({key:0},o.icon,{disabled:!t(e).activePlayerQueue||!((l=t(e).activePlayerQueue)!=null&&l.active)||((u=t(e).activePlayerQueue)==null?void 0:u.items)<=1,icon:"mdi-skip-next-outline",type:"btn",onClicked:s[0]||(s[0]=i=>t(g).queueCommandNext(t(e).activePlayerQueue.queue_id))}),null,16,["disabled"])):C("",!0)}}}),xl={key:0,class:"player-controls"},ql={key:0,class:"player-controls-elements"},zl={key:1,class:"player-controls-elements"},Al={key:2},Ml={key:3,class:"player-controls-elements"},Wl={key:4,class:"player-controls-elements"},ut=z({__name:"PlayerControls",props:{visibleComponents:{default:()=>({repeat:{isVisible:!0},shuffle:{isVisible:!0},play:{isVisible:!0},previous:{isVisible:!0},next:{isVisible:!0}})}},setup(a){return(o,s)=>{var l,u,i,r,n;return o.visibleComponents?(m(),P("div",xl,[o.visibleComponents&&((l=o.visibleComponents.shuffle)!=null&&l.isVisible)?(m(),P("div",ql,[d(Ft,{class:"media-controls-item",icon:o.visibleComponents.shuffle.icon},null,8,["icon"])])):C("",!0),o.visibleComponents&&((u=o.visibleComponents.previous)!=null&&u.isVisible)?(m(),P("div",zl,[d(Rt,{class:"media-controls-item",icon:o.visibleComponents.previous.icon},null,8,["icon"])])):C("",!0),o.visibleComponents&&((i=o.visibleComponents.play)!=null&&i.isVisible)?(m(),P("div",Al,[d(Ht,{class:"media-controls-item","with-circle":o.visibleComponents.play.withCircle,icon:o.visibleComponents.play.icon},null,8,["with-circle","icon"])])):C("",!0),o.visibleComponents&&((r=o.visibleComponents.next)!=null&&r.isVisible)?(m(),P("div",Ml,[d(Dt,{icon:o.visibleComponents.next.icon,"static-height":"24px","static-width":"24px"},null,8,["icon"])])):C("",!0),o.visibleComponents&&((n=o.visibleComponents.repeat)!=null&&n.isVisible)?(m(),P("div",Wl,[d(Lt,{icon:o.visibleComponents.repeat.icon,"static-height":"24px","static-width":"24px"},null,8,["icon"])])):C("",!0)])):C("",!0)}}}),Nt=z({__name:"QueueBtn",props:{isVisible:{type:Boolean,default:!0},icon:{default:void 0}},setup(a){const o=function(){e.showFullscreenPlayer&&e.showQueueItems?e.showQueueItems=!1:e.showFullscreenPlayer&&!e.showQueueItems?e.showQueueItems=!0:(e.showQueueItems=!0,e.showFullscreenPlayer=!0)};return(s,l)=>{var u;return s.isVisible?(m(),V(le,M({key:0},s.icon,{disabled:!t(e).activePlayerId,icon:"mdi-playlist-play",color:t(ce)((u=s.icon)==null?void 0:u.color,[[t(e).showFullscreenPlayer&&t(e).showQueueItems,"primary",""]]),type:"btn",onClicked:o}),null,16,["disabled","color"])):C("",!0)}}}),El={class:"main"},Ll={key:0,class:"main-media-details"},Fl={key:0,class:"main-media-details-image"},Hl={class:"main-media-details-track-info"},Rl={key:0},Dl={style:{margin:"auto","padding-top":"20px"}},Nl={key:1,class:"main-queue-items"},Ul={class:"queue-items-scroll-box"},Yl={class:"media-thumb listitem-media-thumb"},Ol={key:0},Xl={key:2,class:"main-queue-items"},jl={class:"main-media-details-image main-media-details-image-alt"},Gl={class:"player-bottom"},Kl={class:"row",style:{"margin-left":"5%","margin-right":"5%"}},Jl={class:"media-controls"},Zl={class:"row",style:{"margin-left":"5%","margin-right":"5%"}},ei={key:0,class:"row",style:{height:"70px",display:"flex","justify-content":"center","align-items":"center","padding-bottom":"15px","padding-top":"15px"}},ti=z({__name:"PlayerFullscreen",props:{colorPalette:{}},setup(a){const{t:o}=ca(),{name:s}=_t(),l=a,u=B([]),i=B(""),r=B(0),n=B(!1),v=T(()=>e.activePlayerQueue?u.value.slice(e.activePlayerQueue.current_index):[]),y=T(()=>e.activePlayerQueue?u.value.slice(0,e.activePlayerQueue.current_index):[]),k=T(()=>{switch(s.value){case"xs":return"1.2em";case"sm":return"1.6em";case"md":return"2em";case"lg":return e.showQueueItems?"1.5em":"2.5em";case"xl":return e.showQueueItems?"1.6em":"3em";case"xxl":return e.showQueueItems?"1.7em":"3.2em";default:return"1.0em."}}),b=T(()=>{switch(s.value){case"xs":return"1.0em";case"sm":return"1.2em";case"md":return"1.7em";case"lg":return e.showQueueItems?"1.0em":"1.6em";case"xl":return e.showQueueItems?"1.2em":"2em";case"xxl":return e.showQueueItems?"1.2em":"2em";default:return"1.0em."}}),c=function(_){e.showFullscreenPlayer=!1,ke.push({name:_.media_type,params:{itemId:_.item_id,provider:_.provider}})},p=function(_){e.globalSearchTerm=_,ke.push({name:"search"}),e.showFullscreenPlayer=!1},w=function(_,h){var D,L,j,re,ne,ue,oe;const $=u.value.indexOf(h),W=[{label:"play_now",labelArgs:[],action:()=>{N(h,"play_now")},icon:"mdi-play-circle-outline",disabled:$===((D=e.activePlayerQueue)==null?void 0:D.current_index)||$===((L=e.activePlayerQueue)==null?void 0:L.index_in_buffer)},{label:"play_next",labelArgs:[],action:()=>{N(h,"move_next")},icon:"mdi-skip-next-circle-outline",disabled:$<=(((j=e.activePlayerQueue)==null?void 0:j.index_in_buffer)||0)},{label:"queue_move_up",labelArgs:[],action:()=>{N(h,"up")},icon:"mdi-arrow-up",disabled:$<=(((re=e.activePlayerQueue)==null?void 0:re.index_in_buffer)||0)},{label:"queue_move_down",labelArgs:[],action:()=>{N(h,"down")},icon:"mdi-arrow-down",disabled:$<=(((ne=e.activePlayerQueue)==null?void 0:ne.index_in_buffer)||0)},{label:"queue_delete",labelArgs:[],action:()=>{N(h,"delete")},icon:"mdi-delete",disabled:$<=(((ue=e.activePlayerQueue)==null?void 0:ue.index_in_buffer)||0)}];((oe=h==null?void 0:h.media_item)==null?void 0:oe.media_type)==te.TRACK&&W.push({label:"show_info",labelArgs:[],action:()=>{c(h.media_item)},icon:"mdi-information-outline",disabled:!1}),de.emit("contextmenu",{items:W,posX:_.clientX,posY:_.clientY})},x=function(_){const h=[{label:"settings.player_settings",labelArgs:[],action:()=>{e.showFullscreenPlayer=!1,ke.push(`/settings/editplayer/${e.activePlayerQueue.queue_id}`)},icon:"mdi-cog-outline"},{label:"queue_clear",labelArgs:[],action:()=>{g.queueCommandClear(e.activePlayerQueue.queue_id)},icon:"mdi-cancel"},{label:e.activePlayerQueue.shuffle_enabled?"shuffle_enabled":"shuffle_disabled",labelArgs:[],action:()=>{g.queueCommandShuffleToggle(e.activePlayerQueue.queue_id)},icon:e.activePlayerQueue.shuffle_enabled?"mdi-shuffle":"mdi-shuffle-disabled"},{label:"repeat_mode",labelArgs:[o(`repeatmode.${e.activePlayerQueue.repeat_mode}`)],action:()=>{g.queueCommandRepeatToggle(e.activePlayerQueue.queue_id)},icon:e.activePlayerQueue.shuffle_enabled?"mdi-repeat":"mdi-repeat-off"},{label:"transfer_queue",icon:"mdi-swap-horizontal",subItems:Object.values(g.queues).filter($=>{var W;return $.queue_id!=((W=e.activePlayerQueue)==null?void 0:W.queue_id)&&$.available}).map($=>({label:$.display_name,labelArgs:[],action:()=>{g.queueCommandTransfer(e.activePlayerQueue.queue_id,$.queue_id),e.activePlayerId=$.queue_id}})).sort(($,W)=>{var D;return $.label.toUpperCase()>((D=W.label)==null?void 0:D.toUpperCase())?1:-1})},{label:e.activePlayerQueue.dont_stop_the_music_enabled?"dont_stop_the_music_enabled":"dont_stop_the_music_disabled",labelArgs:[],action:()=>{g.queueCommandDontStopTheMusicToggle(e.activePlayerQueue.queue_id)},icon:"mdi-all-inclusive"}];de.emit("contextmenu",{items:h,posX:_.clientX,posY:_.clientY})},N=function(_,h){var $,W,D,L,j;!_||!e.activePlayerQueue||(h=="play_now"?g.queueCommandPlayIndex(($=e.activePlayerQueue)==null?void 0:$.queue_id,_.queue_item_id):h=="move_next"?g.queueCommandMoveNext((W=e.activePlayerQueue)==null?void 0:W.queue_id,_.queue_item_id):h=="up"?g.queueCommandMoveUp((D=e.activePlayerQueue)==null?void 0:D.queue_id,_.queue_item_id):h=="down"?g.queueCommandMoveDown((L=e.activePlayerQueue)==null?void 0:L.queue_id,_.queue_item_id):h=="delete"&&g.queueCommandDelete((j=e.activePlayerQueue)==null?void 0:j.queue_id,_.queue_item_id))},ie=async function(_=!1){if(n.value=!0,_&&(u.value=[]),e.activePlayerQueue){const h=u.value.length,$=(e.activePlayerQueue.current_index||0)+50,W=await g.getPlayerQueueItems(e.activePlayerQueue.queue_id,$,h);u.value.push(...W)}n.value=!1},O=function({done:_}){var h;if(!e.activePlayerQueue||e.activePlayerQueue.items==0){_("empty");return}if(u.value.length>=((h=e.activePlayerQueue)==null?void 0:h.items)){_("empty");return}ie(!1).then(()=>{_("ok")})};$e(()=>{const _=g.subscribe(ma.QUEUE_ITEMS_UPDATED,h=>{var $;h.object_id==(($=e.activePlayerQueue)==null?void 0:$.queue_id)&&ie(!0)});Ae(_)});const X=function(_){var $;if(!(($=e.curQueueItem)!=null&&$.media_item))return;if(!e.curQueueItem.media_item.favorite){g.toggleFavorite(e.curQueueItem.media_item);return}const h=[{label:"favorites_remove",labelArgs:[],action:()=>{g.toggleFavorite(e.curQueueItem.media_item)},icon:"mdi-heart"},{label:"add_playlist",labelArgs:[],action:()=>{de.emit("playlistdialog",{items:[e.curQueueItem.media_item]})},icon:"mdi-plus-circle-outline"}];de.emit("contextmenu",{items:h,posX:_.clientX,posY:_.clientY})},q=function(){n.value=!0,Kt(100).then(()=>{n.value=!1})};return se(()=>e.activePlayerId,_=>{ie(!0)},{immediate:!0}),se(()=>l.colorPalette,_=>{!_.darkColor||!_.lightColor?i.value=Ve.theme.current.value.dark?"#000":"#fff":i.value=Ve.theme.current.value.dark?_.darkColor:_.lightColor}),(_,h)=>(m(),V($t,{modelValue:t(e).showFullscreenPlayer,"onUpdate:modelValue":h[13]||(h[13]=$=>t(e).showFullscreenPlayer=$),fullscreen:"",scrim:!1,transition:"dialog-bottom-transition","z-index":"9999"},{default:f(()=>[d(Fe,{color:t(Gt)(i.value,70,80)},{default:f(()=>{var $,W,D,L,j,re,ne,ue,oe,De,Ne,Ue,Ye,Oe,Xe,je,Ge;return[d(Ya,{class:"v-toolbar-default",color:"transparent"},{prepend:f(()=>[d(ve,{icon:"",onClick:h[0]||(h[0]=I=>t(e).showFullscreenPlayer=!1)},{default:f(()=>[d(Y,{icon:"mdi-chevron-down"})]),_:1})]),append:f(()=>[d(ve,{icon:"",onClick:h[1]||(h[1]=I=>t(e).showFullscreenPlayer=!1)},{default:f(()=>[d(Y,{icon:"mdi-dots-vertical",onClick:Be(x,["stop"])})]),_:1})]),_:1}),S("div",El,[t(E)("bp7")||!t(e).showQueueItems?(m(),P("div",Ll,[_.$vuetify.display.height>600?(m(),P("div",Fl,[d(he,{item:t(e).curQueueItem,thumbnail:!1,style:{"max-width":"100%",width:"auto"}},null,8,["item"])])):C("",!0),S("div",Hl,[($=t(e).curQueueItem)!=null&&$.media_item?(m(),V(we,{key:0,style:H(`font-size: ${k.value};cursor:pointer;`),onClick:h[2]||(h[2]=I=>c(t(e).curQueueItem.media_item))},{default:f(()=>[A(Q(t(e).curQueueItem.media_item.name)+" ",1),"version"in t(e).curQueueItem.media_item&&t(e).curQueueItem.media_item.version?(m(),P("span",Rl,"("+Q(t(e).curQueueItem.media_item.version)+")",1)):C("",!0)]),_:1},8,["style"])):(W=t(e).activePlayerQueue)!=null&&W.display_name||(D=t(e).activePlayer)!=null&&D.display_name?(m(),V(we,{key:1,style:H(`font-size: ${k.value};cursor:pointer;`),onClick:h[3]||(h[3]=I=>t(e).showPlayersMenu=!0)},{default:f(()=>{var I,ee;return[A(Q(((I=t(e).activePlayerQueue)==null?void 0:I.display_name)||((ee=t(e).activePlayer)==null?void 0:ee.display_name)),1)]}),_:1},8,["style"])):(m(),V(we,{key:2,style:H(`font-size: ${k.value};cursor:pointer;`),onClick:h[4]||(h[4]=I=>t(e).showPlayersMenu=!0)},{default:f(()=>{var I;return[A(Q(((I=t(e).activePlayer)==null?void 0:I.display_name)||_.$t("no_player")),1)]}),_:1},8,["style"])),((j=(L=t(e).curQueueItem)==null?void 0:L.media_item)==null?void 0:j.media_type)==t(te).RADIO&&((ne=(re=t(e).curQueueItem)==null?void 0:re.streamdetails)!=null&&ne.stream_title)?(m(),V(pe,{key:3,class:"text-h6 text-md-h5 text-lg-h4",onClick:h[5]||(h[5]=I=>p(t(e).curQueueItem.streamdetails.stream_title))},{default:f(()=>[A(Q(t(e).curQueueItem.streamdetails.stream_title),1)]),_:1})):C("",!0),(ue=t(e).curQueueItem)!=null&&ue.media_item&&"album"in t(e).curQueueItem.media_item&&t(e).curQueueItem.media_item.album?(m(),V(pe,{key:4,style:H(`font-size: ${b.value};cursor:pointer;`),onClick:h[6]||(h[6]=I=>c(t(e).curQueueItem.media_item.album))},{default:f(()=>[A(Q(t(e).curQueueItem.media_item.album.name),1)]),_:1},8,["style"])):C("",!0),(oe=t(e).curQueueItem)!=null&&oe.media_item&&"artists"in t(e).curQueueItem.media_item&&t(e).curQueueItem.media_item.artists.length?(m(),V(pe,{key:5,style:H(`font-size: ${b.value};cursor:pointer;`),onClick:h[7]||(h[7]=I=>c(t(e).curQueueItem.media_item.artists[0]))},{default:f(()=>[A(Q(t(e).curQueueItem.media_item.artists[0].name),1)]),_:1},8,["style"])):C("",!0),((De=t(e).activePlayer)==null?void 0:De.active_source)!=((Ne=t(e).activePlayer)==null?void 0:Ne.player_id)?(m(),V(pe,{key:6,style:H(`font-size: ${b.value}`)},{default:f(()=>{var I;return[A(Q(_.$t("external_source_active",[(I=t(e).activePlayer)==null?void 0:I.active_source])),1)]}),_:1},8,["style"])):t(e).activePlayerQueue&&t(e).activePlayerQueue.items==0?(m(),V(pe,{key:7,style:H(`font-size: ${b.value}`)},{default:f(()=>[A(Q(_.$t("queue_empty")),1)]),_:1},8,["style"])):C("",!0),S("div",Dl,[d(jt)])])])):C("",!0),t(e).showQueueItems?(m(),P("div",Nl,[d(ze,{modelValue:r.value,"onUpdate:modelValue":h[8]||(h[8]=I=>r.value=I),"hide-slider":"",density:"compact",onClick:q},{default:f(()=>[d(me,{value:0},{default:f(()=>{var I,ee;return[A(Q(_.$t("queue"))+" ",1),d(qe,{color:"grey",content:(((I=t(e).activePlayerQueue)==null?void 0:I.items)||0)-(((ee=t(e).activePlayerQueue)==null?void 0:ee.current_index)||0),inline:""},null,8,["content"])]}),_:1}),d(me,{value:1},{default:f(()=>{var I;return[A(Q(_.$t("played"))+" ",1),d(qe,{color:"grey",content:(I=t(e).activePlayerQueue)==null?void 0:I.current_index,inline:""},null,8,["content"])]}),_:1})]),_:1},8,["modelValue"]),S("div",Ul,[n.value?C("",!0):(m(),V(Ba,{key:0,onLoad:O,"empty-text":"",height:"100%"},{default:f(()=>[d(Oa,{"item-height":70,"max-height":"90%",items:r.value==0?v.value:y.value},{default:f(({item:I})=>[d(Na,{link:"","show-menu-btn":!0,onClick:Be(ee=>w(ee,I),["stop"]),onMenu:Be(ee=>w(ee,I),["stop"])},{prepend:f(()=>[S("div",Yl,[d(he,{size:"50",item:I},null,8,["item"])])]),title:f(()=>[A(Q(I.name),1)]),subtitle:f(()=>[A(Q(t(Pe)(I.duration))+" ",1),I.media_item&&"album"in I.media_item&&I.media_item.album?(m(),P("span",Ol," | "+Q(I.media_item.album.name),1)):C("",!0)]),_:2},1032,["onClick","onMenu"])]),_:1},8,["items"])]),_:1}))])])):C("",!0),!t(e).showQueueItems&&_.$vuetify.display.height<=600?(m(),P("div",Xl,[S("div",jl,[d(he,{item:t(e).curQueueItem,thumbnail:!1,style:{"max-width":"100%",width:"auto"}},null,8,["item"])])])):C("",!0)]),S("div",Gl,[S("div",Kl,[d(Et,{"show-labels":!0})]),S("div",Jl,[d(le,{disabled:!((Ue=t(e).curQueueItem)!=null&&Ue.media_item),icon:(Oe=(Ye=t(e).curQueueItem)==null?void 0:Ye.media_item)!=null&&Oe.favorite?"mdi-heart":"mdi-heart-outline",title:_.$t("tooltip.favorite"),type:"btn",class:"media-controls-item","max-height":"30px",onClick:X},null,8,["disabled","icon","title"]),_.$vuetify.display.mdAndUp?(m(),V(Ft,{key:0,class:"media-controls-item","max-height":"30px"})):C("",!0),d(Rt,{class:"media-controls-item","max-height":"45px"}),d(Ht,{class:"media-controls-item","max-height":"100px"}),d(Dt,{class:"media-controls-item","max-height":"45px"}),_.$vuetify.display.mdAndUp?(m(),V(Lt,{key:1,class:"media-controls-item","max-height":"35px"})):C("",!0),d(Nt,{class:"media-controls-item","max-height":"30px"})]),S("div",Zl,[d(He,{width:"100%","is-powered":(Xe=t(e).activePlayer)==null?void 0:Xe.powered,disabled:!t(e).activePlayer||!((je=t(e).activePlayer)!=null&&je.powered),"model-value":Math.round(((Ge=t(e).activePlayer)==null?void 0:Ge.group_volume)||0),"prepend-icon":"mdi-volume-minus","append-icon":"mdi-volume-plus","onUpdate:modelValue":h[9]||(h[9]=I=>t(e).activePlayer.group_childs.length>0?t(g).playerCommandGroupVolume(t(e).activePlayerId,I):t(g).playerCommandVolumeSet(t(e).activePlayerId,I)),"onClick:prepend":h[10]||(h[10]=I=>t(e).activePlayer.group_childs.length>0?t(g).playerCommandGroupVolume(t(e).activePlayerId,t(e).activePlayer.group_volume-5):t(g).playerCommandVolumeSet(t(e).activePlayerId,t(e).activePlayer.volume_level-5)),"onClick:append":h[11]||(h[11]=I=>t(e).activePlayer.group_childs.length>0?t(g).playerCommandGroupVolume(t(e).activePlayerId,t(e).activePlayer.group_volume+5):t(g).playerCommandVolumeSet(t(e).activePlayerId,t(e).activePlayer.volume_level+5))},null,8,["is-powered","disabled","model-value"])]),_.$vuetify.display.height>800?(m(),P("div",ei,[d(be,{class:"responsive-icon-holder-btn",variant:"outlined",onClick:h[12]||(h[12]=I=>t(e).showPlayersMenu=!0)},{default:f(()=>{var I;return[d(Y,{icon:((I=t(e).activePlayer)==null?void 0:I.icon)||"mdi-speaker"},null,8,["icon"]),A(" "+Q(t(e).activePlayer?t(rt)(t(e).activePlayer):""),1)]}),_:1})])):C("",!0)])]}),_:1},8,["color"])]),_:1},8,["modelValue"]))}}),ai=G(ti,[["__scopeId","data-v-7885439a"]]),li={key:0},ii={key:1},oi={class:"d-flex justify-center",style:{width:"100%"}},si={key:0},ni={key:1},ui={key:2,class:"line-clamp-1"},ri={key:3,class:"line-clamp-1"},di={key:4,class:"line-clamp-1"},ci={key:5,class:"line-clamp-1"},mi={key:6},vi=z({__name:"PlayerTrackDetails",props:{showOnlyArtist:{type:Boolean,default:!1},showQualityDetailsBtn:{type:Boolean,default:!0},colorPalette:{},primaryColor:{default:""}},setup(a){const o=a,s=T(()=>{var l,u;return(u=(l=e.activePlayerQueue)==null?void 0:l.current_item)==null?void 0:u.streamdetails});return(l,u)=>(m(),V(Qe,{style:{height:"auto",width:"fit-content",margin:"0px",padding:"0px"},lines:"two"},{prepend:f(()=>{var i;return[S("div",{class:"media-thumb player-media-thumb",style:H(`height: ${t(E)({breakpoint:"phone"})?50:64}px; width: ${t(E)({breakpoint:"phone"})?50:64}px; `)},[d(ai,{"show-fullscreen":t(e).showFullscreenPlayer,"color-palette":l.colorPalette},null,8,["show-fullscreen","color-palette"]),d(he,{item:((i=t(e).curQueueItem)==null?void 0:i.media_item)||t(e).curQueueItem,fallback:t(dt),style:{cursor:"pointer"},onClick:u[0]||(u[0]=r=>t(e).showFullscreenPlayer=!0)},null,8,["item","fallback"])],4)]}),title:f(()=>[S("div",{style:H({cursor:"pointer",color:l.primaryColor})},[t(e).curQueueItem&&t(e).curQueueItem.media_item?(m(),P("div",{key:0,onClick:u[1]||(u[1]=i=>t(e).showFullscreenPlayer=!0)},[A(Q(t(e).curQueueItem.media_item.name)+" ",1),"version"in t(e).curQueueItem.media_item&&t(e).curQueueItem.media_item.version?(m(),P("span",li,"("+Q(t(e).curQueueItem.media_item.version)+")",1)):C("",!0)])):t(e).curQueueItem?(m(),P("div",ii,Q(t(e).curQueueItem.name),1)):t(e).activePlayer?C("",!0):(m(),P("div",{key:2,onClick:u[2]||(u[2]=i=>t(e).showPlayersMenu=!0)},Q(l.$t("no_player")),1))],4)]),append:f(()=>{var i,r,n;return[(i=s.value)!=null&&i.audio_format.content_type&&!t(E)({breakpoint:"phone"})&&l.showQualityDetailsBtn?(m(),V(Ra,M({key:0,disabled:!t(e).activePlayerQueue||!((r=t(e).activePlayerQueue)!=null&&r.active)||((n=t(e).activePlayerQueue)==null?void 0:n.items)==0,class:"player-track-content-type",style:l.$vuetify.theme.current.dark?"color: #000; background: #fff; margin-left: 15px;":"color: #fff; background: #000; margin-left: 15px;",label:"",ripple:!1},o),{default:f(()=>[S("div",oi,Q(s.value.audio_format.content_type.toUpperCase()),1)]),_:1},16,["disabled","style"])):C("",!0)]}),subtitle:f(()=>{var i,r,n,v,y,k,b,c,p;return[S("div",{style:H({cursor:"pointer",color:l.primaryColor}),class:"line-clamp-1",onClick:u[3]||(u[3]=w=>t(e).showFullscreenPlayer=!0)},[t(e).curQueueItem&&((i=t(e).curQueueItem.media_item)==null?void 0:i.media_type)==t(te).TRACK&&"album"in t(e).curQueueItem.media_item&&t(e).curQueueItem.media_item.album&&!o.showOnlyArtist?(m(),P("div",si,Q(t(Jt)(t(e).curQueueItem.media_item.artists))+" â€¢ "+Q(t(e).curQueueItem.media_item.album.name),1)):t(e).curQueueItem&&t(e).curQueueItem.media_item&&"artists"in t(e).curQueueItem.media_item&&t(e).curQueueItem.media_item.artists.length>0?(m(),P("div",ni,Q(t(e).curQueueItem.media_item.artists[0].name),1)):(n=(r=t(e).curQueueItem)==null?void 0:r.streamdetails)!=null&&n.stream_title?(m(),P("div",ui,Q((y=(v=t(e).curQueueItem)==null?void 0:v.streamdetails)==null?void 0:y.stream_title),1)):t(e).curQueueItem&&((k=t(e).curQueueItem.media_item)!=null&&k.metadata.description)?(m(),P("div",ri,Q(t(e).curQueueItem.media_item.metadata.description),1)):((b=t(e).activePlayer)==null?void 0:b.active_source)!=((c=t(e).activePlayer)==null?void 0:c.player_id)?(m(),P("div",di,Q(l.$t("external_source_active",[(p=t(e).activePlayer)==null?void 0:p.active_source])),1)):t(e).activePlayerQueue&&t(e).activePlayerQueue.items==0?(m(),P("div",ci,Q(l.$t("queue_empty")),1)):C("",!0),t(e).activePlayer?(m(),P("div",mi,Q(t(rt)(t(e).activePlayer)),1)):C("",!0)],4)]}),_:1}))}}),yi=z({__name:"SpeakerBtn",props:{color:{}},setup(a){return(o,s)=>(m(),V(ve,{variant:"icon",ripple:!1,icon:"",onClick:s[0]||(s[0]=l=>t(e).showPlayersMenu=!0)},{default:f(()=>{var l;return[d(Y,{color:o.color?o.color:"",size:24,icon:(l=t(e).activePlayer)!=null&&l.group_childs.length?"mdi-speaker-multiple":"mdi-speaker"},null,8,["color","icon"])]}),_:1}))}}),fi={key:0},pi={key:0},hi={class:"text-caption"},_i={key:1},bi=z({__name:"VolumeBtn",props:{volumeSize:{default:"150px"},responsiveVolumeSize:{type:Boolean,default:!0},isVisible:{type:Boolean,default:!0},color:{default:""}},setup(a){const o=a,s=B(!1);return(l,u)=>o.isVisible&&t(e).activePlayer?(m(),P("div",fi,[d(Bt,{modelValue:s.value,"onUpdate:modelValue":u[1]||(u[1]=i=>s.value=i),class:"volume-control-dialog","close-on-content-click":!1,location:"top",scrim:l.$vuetify.theme.current.dark?"rgba(0,0,0,.75)":"rgba(0,0,0,.85)"},{activator:f(({props:i})=>{var r,n;return[t(E)("bp6")||!l.responsiveVolumeSize?(m(),P("div",pi,[d(He,{style:"margin-right: 0px; margin-left: 0px;",width:l.volumeSize,"is-powered":!0,"model-value":t(e).activePlayer.group_childs.length>0?Math.round(((r=t(e).activePlayer)==null?void 0:r.group_volume)||0):Math.round(((n=t(e).activePlayer)==null?void 0:n.volume_level)||0),"onUpdate:modelValue":u[0]||(u[0]=v=>{var y,k;return t(e).activePlayer.group_childs.length>0?t(g).playerCommandGroupVolume(((y=t(e).activePlayer)==null?void 0:y.player_id)||"",v):t(g).playerCommandVolumeSet(((k=t(e).activePlayer)==null?void 0:k.player_id)||"",v)})},{prepend:f(()=>[d(ve,M({variant:"icon",size:"48",ripple:!1},{...i}),{default:f(()=>{var v,y;return[d(Y,{color:o.color?l.color:"",size:24,icon:"mdi-volume-high"},null,8,["color"]),S("div",hi,Q(t(e).activePlayer.group_childs.length>0?Math.round(((v=t(e).activePlayer)==null?void 0:v.group_volume)||0):Math.round(((y=t(e).activePlayer)==null?void 0:y.volume_level)||0)),1)]}),_:2},1040)]),_:2},1032,["width","model-value"])])):(m(),P("div",_i,[d(ve,M({...i},{size:"48",variant:"icon"}),{default:f(()=>{var v,y;return[d(Y,{color:o.color?l.color:"",icon:"mdi-volume-high"},null,8,["color"]),S("div",{class:"text-caption",style:H({color:o.color?l.color:""})},Q(t(e).activePlayer.group_childs.length>0?Math.round(((v=t(e).activePlayer)==null?void 0:v.group_volume)||0):Math.round(((y=t(e).activePlayer)==null?void 0:y.volume_level)||0)),5)]}),_:2},1040)]))]}),default:f(()=>[d(Fe,{"min-width":300,style:{overflow:"hidden","padding-top":"20px","padding-bottom":"20px","padding-right":"20px"}},{default:f(()=>[t(e).activePlayer?(m(),V(Ua,{key:0,player:t(e).activePlayer,"force-show-sub-players":!0,"show-sync-controls":!1,"hide-heading-row":!1,style:{"margin-left":"18px"}},null,8,["player"])):C("",!0)]),_:1})]),_:1},8,["modelValue","scrim"])])):C("",!0)}}),gi=G(bi,[["__scopeId","data-v-c9a4005a"]]),Pi=z({__name:"PlayerExtendedControls",props:{queue:{default:()=>({isVisible:!0,showQueueDialog:!1})},player:{default:()=>({isVisible:!0})},volume:{default:()=>({isVisible:!0,volumeSize:"150px",responsiveVolumeSize:!1})}},setup(a){return(o,s)=>(m(),P(R,null,[o.player&&o.player.isVisible?(m(),V(yi,{key:0,color:o.player.color},null,8,["color"])):C("",!0),o.queue&&o.queue.isVisible?(m(),V(Nt,{key:1,color:o.player.color,style:{"padding-left":"15px","padding-right":"20px"}},null,8,["color"])):C("",!0),o.volume&&o.volume.isVisible?(m(),V(gi,{key:2,color:o.volume.color,"volume-size":o.volume.volumeSize,"responsive-volume-size":o.volume.responsiveVolumeSize},null,8,["color","volume-size","responsive-volume-size"])):C("",!0)],64))}}),ki=["data-floating"],wi=["data-mobile"],Ci={class:"mediacontrols-left"},Vi={class:"mediacontrols-bottom-center"},Ii={class:"mediacontrols-bottom-right"},Qi={key:0,class:"volume-slider"},$i=z({__name:"Player",props:{useFloatingPlayer:{type:Boolean}},setup(a){va(i=>({f7776ae4:u.value})),ct();const{mobile:o}=_t({mobileBreakpoint:576}),s=B({0:"",1:"",2:"",3:"",4:"",5:"",lightColor:"",darkColor:""}),l=new Image;l.src=Ve.theme.current.value.dark?dt:Zt,l.crossOrigin="Anonymous",l.addEventListener("load",function(){s.value=ea(l)});const u=T(()=>Ve.theme.current.value.dark?s.value&&s.value.darkColor?s.value.darkColor+"26":"CCCCCC26":s.value&&s.value.lightColor?s.value.lightColor+"26":"CCCCCC26");return se(()=>{var i;return(i=e.curQueueItem)==null?void 0:i.queue_item_id},()=>{var i;(i=e.curQueueItem)!=null&&i.media_item?l.src=Ke(e.curQueueItem.media_item,tt.THUMB)||"":e.curQueueItem?l.src=Ke(e.curQueueItem,tt.THUMB)||"":l.src=""}),(i,r)=>{var n,v,y,k,b,c,p;return m(),P(R,null,[S("div",{class:"mediacontrols-bg","data-floating":i.useFloatingPlayer},null,8,ki),S("div",{class:"mediacontrols","data-mobile":t(o)},[S("div",Ci,[d(vi,{"show-quality-details-btn":!!t(E)("bp8"),"show-only-artist":!t(E)("bp7"),"color-palette":s.value,"primary-color":i.$vuetify.theme.current.dark?"#fff":"#000"},null,8,["show-quality-details-btn","show-only-artist","color-palette","primary-color"])]),S("div",Vi,[d(ut,{"visible-components":{repeat:{isVisible:t(E)("bp3")},shuffle:{isVisible:t(E)("bp3")},play:{isVisible:!0,icon:{staticWidth:"50px",staticHeight:"50px"}},previous:{isVisible:t(E)("bp3")},next:{isVisible:t(E)("bp3")}}},null,8,["visible-components"]),t(E)("bp6")?(m(),V(Et,{key:0,color:i.$vuetify.theme.current.dark?s.value.lightColor||"#fff":s.value.darkColor||"#000","is-progress-bar":!1,disabled:!((n=t(e).activePlayerQueue)!=null&&n.active)||((k=(y=(v=t(e).activePlayerQueue)==null?void 0:v.current_item)==null?void 0:y.media_item)==null?void 0:k.media_type)!==t(te).TRACK},null,8,["color","disabled"])):C("",!0)]),S("div",Ii,[S("div",null,[d(Pi,{queue:{isVisible:t(E)("bp3"),color:i.$vuetify.theme.current.dark?"#fff":"#000"},player:{isVisible:!0,color:i.$vuetify.theme.current.dark?"#fff":"#000"},volume:{isVisible:!t(o),color:i.$vuetify.theme.current.dark?"#fff":"#000"}},null,8,["queue","player","volume"]),d(ut,{style:{"padding-right":"5px"},"visible-components":{repeat:{isVisible:!1},shuffle:{isVisible:!1},play:{isVisible:t(E)({breakpoint:"bp3",condition:"lt"}),withCircle:!1,icon:{staticWidth:"40px",staticHeight:"40px",color:i.$vuetify.theme.current.dark?"#fff":"#000"}},previous:{isVisible:!1},next:{isVisible:!1}}},null,8,["visible-components"])])])],8,wi),t(o)?(m(),P("div",Qi,[d(He,{width:"100%",color:"secondary","is-powered":(b=t(e).activePlayer)==null?void 0:b.powered,disabled:!t(e).activePlayer||!((c=t(e).activePlayer)!=null&&c.powered),"model-value":Math.round(((p=t(e).activePlayer)==null?void 0:p.group_volume)||0),"prepend-icon":"mdi-volume-minus","append-icon":"mdi-volume-plus","onUpdate:modelValue":r[0]||(r[0]=w=>t(e).activePlayer.group_childs.length>0?t(g).playerCommandGroupVolume(t(e).activePlayerId,w):t(g).playerCommandVolumeSet(t(e).activePlayerId,w)),"onClick:prepend":r[1]||(r[1]=w=>t(e).activePlayer.group_childs.length>0?t(g).playerCommandGroupVolume(t(e).activePlayerId,t(e).activePlayer.group_volume-5):t(g).playerCommandVolumeSet(t(e).activePlayerId,t(e).activePlayer.volume_level-5)),"onClick:append":r[2]||(r[2]=w=>t(e).activePlayer.group_childs.length>0?t(g).playerCommandGroupVolume(t(e).activePlayerId,t(e).activePlayer.group_volume+5):t(g).playerCommandVolumeSet(t(e).activePlayerId,t(e).activePlayer.volume_level+5))},null,8,["is-powered","disabled","model-value"])])):C("",!0)],64)}}}),Si=G($i,[["__scopeId","data-v-70f74902"]]),Ti=K({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...bt(),...ye(),...Pt(),...St(),...kt(),...ge({tag:"footer"}),...Se()},"VFooter"),Bi=J()({name:"VFooter",props:Ti(),setup(a,o){let{slots:s}=o;const l=B(),{themeClasses:u}=We(a),{backgroundColorClasses:i,backgroundColorStyles:r}=Le(F(a,"color")),{borderClasses:n}=wt(a),{elevationClasses:v}=Vt(a),{roundedClasses:y}=It(a),k=Ce(32),{resizeRef:b}=$a(p=>{p.length&&(k.value=p[0].target.clientHeight)}),c=T(()=>a.height==="auto"?k.value:parseInt(a.height,10));return ya(()=>a.app,()=>{const p=Tt({id:a.name,order:T(()=>parseInt(a.order,10)),position:T(()=>"bottom"),layoutSize:c,elementSize:T(()=>a.height==="auto"?void 0:c.value),active:T(()=>a.app),absolute:F(a,"absolute")});fa(()=>{l.value=p.layoutItemStyles.value})}),Z(()=>d(a.tag,{ref:b,class:["v-footer",u.value,i.value,n.value,v.value,y.value,a.class],style:[r.value,a.app?l.value:{height:_e(a.height)},a.style]},s)),{}}}),xi=z({__name:"Footer",setup(a){const o=T(()=>e.navigationMenuStyle=="horizontal"),s=T(()=>e.navigationMenuStyle!="horizontal"?0:e.isInStandaloneMode?100:80),l=T(()=>o.value?s.value+5:0);return(u,i)=>(m(),P(R,null,[o.value?(m(),P("div",{key:0,class:xe(u.$vuetify.theme.current.dark?"gradient-dark":"gradient-light"),style:H(`
      position: fixed;
      width: 100%;
      height: ${s.value+(t(E)("bp3")?100:70)}px;
      bottom: 0px;
      z-index: 999;
    `)},null,6)):C("",!0),t(e).navigationMenuStyle=="horizontal"?(m(),V(Vl,{key:1,height:s.value},null,8,["height"])):C("",!0),d(Bi,{bottom:"",fixed:"",class:xe(`d-flex flex-column ${o.value?"mediacontrols-player-float":"mediacontrols-player-default"}`),style:H(`bottom: ${l.value}px;`),elevation:"10",app:""},{default:f(()=>[d(Si,{"use-floating-player":o.value},null,8,["use-floating-player"])]),_:1},8,["class","style"])],64))}}),qi=z({__name:"PlayerSelect",setup(a){const o=B(!1),s=T(()=>Object.values(g.players).filter(n=>u(n,!1,!1,!1)).sort((n,v)=>{var y;return n.display_name.toUpperCase()>((y=v.display_name)==null?void 0:y.toUpperCase())?1:-1}).sort((n,v)=>Number(v.powered)-Number(n.powered)));se(()=>e.activePlayerId,n=>{n&&localStorage.setItem("mass.LastPlayerId",n)}),se(()=>g.players,n=>{n&&!e.activePlayer&&i()},{deep:!0}),se(()=>g.state,n=>{n.value!=pa.CONNECTED&&(e.activePlayerId=void 0)},{deep:!0});function l(n,v=!1){e.activePlayerId==n.player_id?o.value=!o.value:(o.value=!1,e.activePlayerId=n.player_id),v&&(e.showPlayersMenu=!1)}$e(()=>{i()});const u=function(n,v=!0,y=!1,k=!1){return!(!n.enabled||!k&&n.hidden||!v&&!n.available||n.synced_to&&!y||!y&&n.type==at.PLAYER&&n.active_group)},i=function(){if(e.activePlayer&&u(e.activePlayer,!1,!1,!1))return;const n=r();n&&(e.activePlayerId=n.player_id)},r=function(){const n=localStorage.getItem("mass.LastPlayerId");if(n&&n in g.players&&u(g.players[n],!1,!1,!1))return g.players[n]};return(n,v)=>(m(),P(R,null,[d(xt,{modelValue:t(e).showPlayersMenu,"onUpdate:modelValue":v[0]||(v[0]=y=>t(e).showPlayersMenu=y)},null,8,["modelValue"]),d(Ot,{modelValue:t(e).showPlayersMenu,"onUpdate:modelValue":v[2]||(v[2]=y=>t(e).showPlayersMenu=y),location:"right",app:"",clipped:"",temporary:"",touchless:"",width:n.$vuetify.display.mobile?500:400,style:{"z-index":"99999"},"z-index":"99999"},{default:f(()=>[S("div",null,[d(we,{class:"title"},{default:f(()=>[S("b",null,Q(n.$t("players")),1)]),_:1}),d(ve,{variant:"icon",style:{float:"right",top:"-40px",height:"0"},onClick:v[1]||(v[1]=y=>t(e).showPlayersMenu=!1)},{default:f(()=>[d(Y,{size:"30"},{default:f(()=>v[3]||(v[3]=[A("mdi-window-close")])),_:1})]),_:1}),d(Ie,{flat:"",style:{margin:"5px 5px"}},{default:f(()=>[(m(!0),P(R,null,ae(s.value.filter(y=>y.powered),y=>(m(),V(ot,{id:y.player_id,key:y.player_id,player:y,"show-volume-control":!0,"show-menu-button":!0,"show-sub-players":o.value&&y.player_id==t(e).activePlayerId,"show-sync-controls":y.type==t(at).PLAYER,onClick:k=>l(y)},null,8,["id","player","show-sub-players","show-sync-controls","onClick"]))),128))]),_:1}),d(Xa,{variant:"accordion",flat:"",class:"expansion"},{default:f(()=>[d(ja,{title:n.$t("powered_off_players"),style:{padding:"0"}},{default:f(()=>[d(Ga,{style:{padding:"0"}},{default:f(()=>[d(Ie,{flat:""},{default:f(()=>[(m(!0),P(R,null,ae(s.value.filter(y=>!y.powered),y=>(m(),V(ot,{id:y.player_id,key:y.player_id,player:y,"show-volume-control":!0,"show-menu-button":!0,"show-sub-players":y.player_id==t(e).activePlayerId,onClick:k=>l(y)},null,8,["id","player","show-sub-players","onClick"]))),128))]),_:1})]),_:1})]),_:1},8,["title"])]),_:1})])]),_:1},8,["modelValue","width"])],64))}}),zi=G(qi,[["__scopeId","data-v-d758f58d"]]);function Ai(a={}){const{immediate:o=!1,onNeedRefresh:s,onOfflineReady:l,onRegistered:u,onRegisteredSW:i,onRegisterError:r}=a;let n,v,y;const k=async(c=!0)=>{await v,await(y==null?void 0:y())};async function b(){if("serviceWorker"in navigator){if(n=await ha(async()=>{const{Workbox:c}=await import("./workbox-window.prod.es5-D5gOYdM7.js");return{Workbox:c}},[],import.meta.url).then(({Workbox:c})=>new c("./sw.js",{scope:"./",type:"classic"})).catch(c=>{r==null||r(c)}),!n)return;y=async()=>{await(n==null?void 0:n.messageSkipWaiting())};{let c=!1;const p=()=>{c=!0,n==null||n.addEventListener("controlling",w=>{w.isUpdate&&window.location.reload()}),s==null||s()};n.addEventListener("installed",w=>{typeof w.isUpdate>"u"?typeof w.isExternal<"u"?w.isExternal?p():!c&&(l==null||l()):w.isExternal?window.location.reload():!c&&(l==null||l()):w.isUpdate||l==null||l()}),n.addEventListener("waiting",p),n.addEventListener("externalwaiting",p)}n.register({immediate:o}).then(c=>{i?i("./sw.js",c):u==null||u(c)}).catch(c=>{r==null||r(c)})}}return v=b(),k}function Mi(a={}){const{immediate:o=!0,onNeedRefresh:s,onOfflineReady:l,onRegistered:u,onRegisteredSW:i,onRegisterError:r}=a,n=B(!1),v=B(!1);return{updateServiceWorker:Ai({immediate:o,onNeedRefresh(){n.value=!0,s==null||s()},onOfflineReady(){v.value=!0,l==null||l()},onRegistered:u,onRegisteredSW:i,onRegisterError:r}),offlineReady:v,needRefresh:n}}const Wi={key:0,class:"pwa-toast",role:"alert"},Ei={class:"message"},Li={key:0},Fi={key:1},Hi=z({__name:"ReloadPrompt",setup(a){const{offlineReady:o,needRefresh:s,updateServiceWorker:l}=Mi(),u=async()=>{o.value=!1,s.value=!1};return(i,r)=>t(o)||t(s)?(m(),P("div",Wi,[S("div",Ei,[t(o)?(m(),P("span",Li," App ready to work offline ")):(m(),P("span",Fi," New content available, click on reload button to update. "))]),t(s)?(m(),P("button",{key:0,onClick:r[0]||(r[0]=n=>t(l)())},"Reload")):C("",!0),S("button",{onClick:u},"Close")])):C("",!0)}}),Ri=K({...ye(),...qa({fullHeight:!0}),...Se()},"VApp"),Di=J()({name:"VApp",props:Ri(),setup(a,o){let{slots:s}=o;const l=We(a),{layoutClasses:u,getLayoutItem:i,items:r,layoutRef:n}=za(a),{rtlClasses:v}=ft();return Z(()=>{var y;return d("div",{ref:n,class:["v-application",l.themeClasses.value,u.value,v.value,a.class],style:[a.style]},[d("div",{class:"v-application__wrap"},[(y=s.default)==null?void 0:y.call(s)])])}),{getLayoutItem:i,items:r,theme:l}}}),Ni=z({__name:"Default",setup(a){return(o,s)=>(m(),P(R,null,[t(e).connected?(m(),V(Di,{key:0},{default:f(()=>[d(zi),d(ol),d(xi)]),_:1})):(m(),V(xt,{key:1,class:"centeredoverlay",persistent:"","model-value":!t(e).connected},{default:f(()=>[S("div",null,[d(Sa,{color:"primary",indeterminate:"",size:"64"})])]),_:1},8,["model-value"])),t(e).isInStandaloneMode?(m(),V(Hi,{key:2})):C("",!0)],64))}}),yo=G(Ni,[["__scopeId","data-v-e54ca74a"]]);export{yo as default};
