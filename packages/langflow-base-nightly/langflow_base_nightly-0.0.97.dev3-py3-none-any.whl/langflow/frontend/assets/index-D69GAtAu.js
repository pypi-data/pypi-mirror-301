import{O as s,Q as x,R as h,T as j,V as P,W as f,r as w,X as v,j as n,Y as I,Z as T,_ as E}from"./index-C0s99vtm.js";function A(){const a=s(e=>e.flows),l=s(e=>e.setCurrentFlow),d=s(e=>e.currentFlow),i=x(e=>e.validApiKey),{id:t}=h();async function g(){const e=await T(t);return E(e,e.id,!1,!0)}const y=j(),p=s(e=>e.currentFlowId),{mutateAsync:F}=P(),c=s(e=>e.setIsLoading),m=f(e=>e.getTypes),u=f(e=>e.types);return w.useEffect(()=>{(async()=>{if(a&&p===""){const o=a.find(r=>r.id===t);o||(i?g().then(r=>{l(r)}):y("/")),l(o)}else a||(c(!0),await F({get_all:!0,header_flows:!0}),(!u||Object.keys(u).length===0)&&await m(),c(!1))})()},[t,a,i]),w.useEffect(()=>{t&&v("Playground Page Loaded",{flowId:t})},[]),n.jsx("div",{className:"flex h-full w-full flex-col items-center justify-center align-middle",children:d&&n.jsx(I,{open:!0,setOpen:()=>{},isPlayground:!0,children:n.jsx(n.Fragment,{})})})}export{A as default};
