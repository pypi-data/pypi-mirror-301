<!DOCTYPE html>
<html lang="">
<head>
  <meta charset="utf-8">
  <title>CYG-MES Manage System</title>
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="../static/layui/css/layui.css" rel="stylesheet">
  <link rel="icon" href="../static/img/favicon.ico" type="image/x-icon">
  <style>
    .cyg_footer {
        text-align: center;
    }
  </style>

  {% block cyg_style %}{% endblock %}

</head>

<body>
<div class="layui-layout layui-layout-admin">
  <div class="layui-header">
    <div class="layui-logo layui-hide-xs layui-bg-black">CYG PLC 模拟系统</div>
    <ul class="layui-nav layui-layout-right">
      <li class="layui-nav-item layui-hide layui-show-sm-inline-block">
        <img src="../static/img/favicon.ico" class="layui-nav-img" alt="">Admin
      </li>
    </ul>
  </div>

  <div class="layui-side layui-bg-black">
    <div class="layui-side-scroll">
      <ul class="layui-nav layui-nav-tree" lay-filter="test">
        <li class="layui-nav-item layui-nav-itemed">
          <a class="" href="javascript:">PLC模拟器</a>
          <dl class="layui-nav-child">
            <dd class="layui-nav-item plc_simulate"><a href="/plc_simulate">汇川 PLC</a></dd>
          </dl>
        </li>
      </ul>
    </div>
  </div>

  <div class="layui-body">
    <div style="padding: 15px;">
      {% block cyg_content %}{% endblock %}
    </div>
  </div>

  <div class="layui-footer cyg_footer">
    CYG @91440400564593438C
  </div>
</div>

<script src="../static/layui/layui.js"></script>
<script>
  <!-- 根据当前路径选中菜单, 选中菜单显示颜色 -->
  document.addEventListener('DOMContentLoaded', function() {
    let currentPath = window.location.pathname;
    let navLinks = document.querySelectorAll('.layui-nav-item a');

    navLinks.forEach(function(link) {
        let linkPath = link.getAttribute('href');
        // 检查当前路径是否以菜单项的路径开头
        if (currentPath.startsWith(linkPath)) {
            link.parentElement.classList.add('layui-this');
        }
    });
  });
</script>

{% block cyg_script %}{% endblock %}

</body>
</html>