Metadata-Version: 2.3
Name: sais-notify
Version: 0.0.15
Summary: sais notify python sdk
Project-URL: repository, https://github.com/xxx/xxxx
Author: SAIS Contributors
Author-email: sais@example.com
License: Apache License 2.0
Keywords: sais,sais-notify
Classifier: Programming Language :: Python :: 3.8
Classifier: Topic :: Software Development :: Libraries
Classifier: Topic :: Software Development :: Libraries :: Python Modules
Requires-Python: >=3.8
Requires-Dist: pydantic~=2.4.2
Requires-Dist: requests~=2.28.2
Requires-Dist: setuptools~=60.2.0
Requires-Dist: tqdm~=4.65.0
Provides-Extra: test
Description-Content-Type: text/markdown

[TOC]

# sais-notify

## ä»‹ç»
SAIS æ¶ˆæ¯é€šçŸ¥æœåŠ¡Python SDKï¼Œæ–¹ä¾¿å¼€å‘è€…å¿«é€Ÿé›†æˆæ¶ˆæ¯é€šçŸ¥æœåŠ¡ã€‚

### åŠŸèƒ½

**DONEï¼š**
- é£ä¹¦ç”¨æˆ·æ–‡æœ¬é€šçŸ¥
- é£ä¹¦ç”¨æˆ·å¯Œæ–‡æœ¬é€šçŸ¥
- é£ä¹¦ç”¨æˆ·æ–‡æœ¬é€šçŸ¥
- é£ä¹¦ç”¨æˆ·å¯Œæ–‡æœ¬é€šçŸ¥

**TODOï¼š**
- é‚®ç®±é€šçŸ¥ 
- çŸ­ä¿¡é€šçŸ¥

### ä½¿ç”¨

> å®‰è£…sais-notify

```bash 
pip install sais-notify -U
```

> ä½¿ç”¨sais-notify

### ç»™é£ä¹¦ç”¨æˆ·å‘é€æ–‡æœ¬æ¶ˆæ¯

```python
from sais.notify import MessageHandler, EnvVarCredentialsProvider, NotifyType
# éœ€è®¾ç½®ç¯å¢ƒå˜é‡SAIS_NOTIFY_AUTH_TOKEN
credentials_provider = EnvVarCredentialsProvider()
message_handler = MessageHandler(credentials_provider)
message_handler.send_notification(NotifyType.FEISHU_USER_TEXT, to="æ‰‹æœºå·ï¼Œå¤šä¸ªé€—å·éš”å¼€", message="æ–‡æœ¬å†…å®¹")
```

### ç»™é£ä¹¦ç”¨æˆ·å‘é€å¯Œæ–‡æœ¬æ¶ˆæ¯

```python
from sais.notify import MessageHandler, EnvVarCredentialsProvider, NotifyType
# éœ€è®¾ç½®ç¯å¢ƒå˜é‡SAIS_NOTIFY_AUTH_TOKEN
credentials_provider = EnvVarCredentialsProvider()
message_handler = MessageHandler(credentials_provider)
message_handler.send_notification(NotifyType.FEISHU_USER_RICH_TEXT, to="æ‰‹æœºå·ï¼Œå¤šä¸ªé€—å·éš”å¼€", message='{\"zh_cn\":{\"title\":\"æˆ‘æ˜¯ä¸€ä¸ªæ ‡é¢˜\",\"content\":[[{\"tag\":\"text\",\"text\":\"ç¬¬ä¸€è¡Œ :\"},{\"tag\":\"a\",\"href\":\"http://www.feishu.cn\",\"text\":\"è¶…é“¾æ¥\"},{\"tag\":\"at\",\"user_id\":\"ou_1avnmsbv3k45jnk34j5\",\"user_name\":\"tom\"}],[{\"tag\":\"img\",\"image_key\":\"img_7ea74629-9191-4176-998c-2e603c9c5e8g\"}],[{\"tag\":\"text\",\"text\":\"ç¬¬äºŒè¡Œ:\"},{\"tag\":\"text\",\"text\":\"æ–‡æœ¬æµ‹è¯•\"}],[{\"tag\":\"img\",\"image_key\":\"img_7ea74629-9191-4176-998c-2e603c9c5e8g\"}]]}}')
```
### ç»™é£ä¹¦ç¾¤ç»„å‘é€æ–‡æœ¬æ¶ˆæ¯
```python
from sais.notify import MessageHandler, EnvVarCredentialsProvider, NotifyType
# éœ€è®¾ç½®ç¯å¢ƒå˜é‡SAIS_NOTIFY_AUTH_TOKEN
credentials_provider = EnvVarCredentialsProvider()
message_handler = MessageHandler(credentials_provider)
message_handler.send_notification(NotifyType.FEISHU_GROUP_TEXT, to="ç¾¤ç»„idï¼Œå¤šä¸ªé€—å·éš”å¼€", message='æ–‡æœ¬æ¶ˆæ¯')

```

### ç»™é£ä¹¦ç¾¤ç»„å‘é€æ–‡æœ¬æ¶ˆæ¯
```python
from sais.notify import MessageHandler, EnvVarCredentialsProvider, NotifyType
# éœ€è®¾ç½®ç¯å¢ƒå˜é‡SAIS_NOTIFY_AUTH_TOKEN
credentials_provider = EnvVarCredentialsProvider()
message_handler = MessageHandler(credentials_provider)
message_handler.send_notification(NotifyType.FEISHU_GROUP_MESSAGE_CARD, to="ç¾¤ç»„idï¼Œå¤šä¸ªé€—å·éš”å¼€", message='{\"config\":{\"wide_screen_mode\":true},\"elements\":[{\"alt\":{\"content\":\"\",\"tag\":\"plain_text\"},\"img_key\":\"img_7ea74629-9191-4176-998c-2e603c9c5e8g\",\"tag\":\"img\"},{\"tag\":\"div\",\"text\":{\"content\":\"ä½ æ˜¯å¦æ›¾å› ä¸ºä¸€æœ¬ä¹¦è€Œäº§ç”Ÿå¿ƒçµå…±æŒ¯ï¼Œå¼€å§‹æ„Ÿæ‚Ÿäººç”Ÿï¼Ÿ\\nä½ æœ‰å“ªäº›æƒ³æåŠ›æ¨èç»™ä»–äººçš„çè—ä¹¦å•ï¼Ÿ\\n\\nåŠ å…¥ **4Â·23 é£ä¹¦è¯»ä¹¦èŠ‚**ï¼Œåˆ†äº«ä½ çš„**æŒšçˆ±ä¹¦å•**åŠ**è¯»ä¹¦ç¬”è®°**ï¼Œ**èµ¢å–åƒå…ƒè¯»ä¹¦ç¤¼**ï¼\\n\\nğŸ“¬ å¡«å†™é—®å·ï¼Œæ™’å‡ºä½ çš„çè—å¥½ä¹¦\\nğŸ˜ æƒ³çŸ¥é“å…¶ä»–äººéƒ½æ¨èäº†å“ªäº›å¥½ä¹¦ï¼Ÿé©¬ä¸Š[å…¥ç¾¤å›´è§‚](https://open.feishu.cn/)\\nğŸ“ ç”¨[è¯»ä¹¦ç¬”è®°æ¨¡æ¿](https://open.feishu.cn/)ï¼ˆæ¡Œé¢ç«¯æ‰“å¼€ï¼‰ï¼Œè®°å½•ä½ çš„å¿ƒå¾—ä½“ä¼š\\nğŸ™Œ æ›´æœ‰æƒŠå–œç‰¹é‚€å˜‰å®¾ 4æœˆ12æ—¥èµ·å¸¦ä½ å…±è¯»\",\"tag\":\"lark_md\"}},{\"actions\":[{\"tag\":\"button\",\"text\":{\"content\":\"ç«‹å³æ¨èå¥½ä¹¦\",\"tag\":\"plain_text\"},\"type\":\"primary\",\"url\":\"https://open.feishu.cn/\"},{\"tag\":\"button\",\"text\":{\"content\":\"æŸ¥çœ‹æ´»åŠ¨æŒ‡å—\",\"tag\":\"plain_text\"},\"type\":\"default\",\"url\":\"https://open.feishu.cn/\"}],\"tag\":\"action\"}],\"header\":{\"template\":\"turquoise\",\"title\":{\"content\":\"ğŸ“šæ™’æŒšçˆ±å¥½ä¹¦ï¼Œèµ¢è¯»ä¹¦ç¤¼é‡‘\",\"tag\":\"plain_text\"}}}')
```

### å‘é€é‚®ä»¶
```python
from sais.notify import MessageHandler, EnvVarCredentialsProvider, NotifyType
# éœ€è®¾ç½®ç¯å¢ƒå˜é‡SAIS_NOTIFY_AUTH_TOKEN
credentials_provider = EnvVarCredentialsProvider()
message_handler = MessageHandler(credentials_provider)
message_handler.send_notification(NotifyType.EMAIL, to="é‚®ç®±ï¼Œå¤šä¸ªé€—å·éš”å¼€", message="é‚®ä»¶æ­£æ–‡å†…å®¹", subject="é‚®ä»¶ä¸»é¢˜")
```

### å‘é€çŸ­ä¿¡
```python
from sais.notify import MessageHandler, EnvVarCredentialsProvider, NotifyType
# éœ€è®¾ç½®ç¯å¢ƒå˜é‡SAIS_NOTIFY_AUTH_TOKEN
credentials_provider = EnvVarCredentialsProvider()
message_handler = MessageHandler(credentials_provider)
message_handler.send_notification(NotifyType.SMS, to="æ‰‹æœºå·ï¼Œå¤šä¸ªé€—å·éš”å¼€", message="çŸ­ä¿¡å˜é‡å‚æ•°ï¼Œç±»å‹jsonstring", sign_name="ç­¾å", template_code="æ¨¡æ¿åç§°")
```

## ä»£ç ç»“æ„
```
â”œâ”€â”€ README.md
â”œâ”€â”€ pyproject.toml
â””â”€â”€ sais
    â”œâ”€â”€ __init__.py
    â””â”€â”€ notify
        â”œâ”€â”€ __init__.py
        â”œâ”€â”€ auth
        â”‚Â Â  â”œâ”€â”€ __init__.py
        â”‚Â Â  â””â”€â”€ auth_info.py
        â”œâ”€â”€ clients
        â”‚Â Â  â”œâ”€â”€ __init__.py
        â”‚Â Â  â””â”€â”€ notify_client.py
        â”œâ”€â”€ config
        â”‚Â Â  â”œâ”€â”€ __init__.py
        â”‚Â Â  â”œâ”€â”€ const.py
        â”‚Â Â  â””â”€â”€ version.py
        â”œâ”€â”€ handler
        â”‚Â Â  â”œâ”€â”€ __init__.py
        â”‚Â Â  â””â”€â”€ message_handler.py
        â”œâ”€â”€ model
        â”‚Â Â  â”œâ”€â”€ __init__.py
        â”‚Â Â  â””â”€â”€ message_model.py
        â””â”€â”€ types
            â””â”€â”€ __init__.py
```

## æ›´å¤š
**è”ç³»æˆ‘ä»¬ï¼š** SAIS å›¢é˜Ÿ
